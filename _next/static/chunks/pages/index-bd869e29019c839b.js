(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9046:function(t,e){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0}),e.isCancel=e.RequestCanceledError=void 0;var o=function(t){function e(n){var i=t.call(this,n)||this;return i.isCancel=!0,Object.setPrototypeOf(i,e),i}return i(e,t),e}(Error);e.RequestCanceledError=o;var r=function(t){return t&&t.isCancel};e.isCancel=r},1086:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_UA=e.DEFAULT_SCOPE=e.NO_REDIRECT=void 0,e.NO_REDIRECT="urn:ietf:wg:oauth:2.0:oob",e.DEFAULT_SCOPE=["read","write","follow"],e.DEFAULT_UA="megalodon"},9725:function(t,e){"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),(i=n||(n={})).Home="home",i.Notifications="notifications",i.Public="public",i.Thread="thread",i.Account="account",e.default=n},9549:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(e,n);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,o)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Misskey=e.Pleroma=e.Mastodon=e.FilterContext=e.NotificationType=e.detector=e.isCancel=e.RequestCanceledError=e.OAuth=void 0;var a=s(n(9307));e.OAuth=a.default;var u=n(9046);Object.defineProperty(e,"isCancel",{enumerable:!0,get:function(){return u.isCancel}}),Object.defineProperty(e,"RequestCanceledError",{enumerable:!0,get:function(){return u.RequestCanceledError}});var c=r(n(7181));Object.defineProperty(e,"detector",{enumerable:!0,get:function(){return c.detector}});var d=s(n(1492));e.Mastodon=d.default;var l=s(n(8587));e.Pleroma=l.default;var f=s(n(8541));e.Misskey=f.default;var p=s(n(4232));e.NotificationType=p.default;var h=s(n(9725));e.FilterContext=h.default,e.default=c.default},1492:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{u(i.next(t))}catch(e){r(e)}}function a(t){try{u(i.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,o,r=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s},s=this&&this.__spreadArray||function(t,e,n){if(n||2==arguments.length)for(var i,o=0,r=e.length;o<r;o++)!i&&o in e||(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=n(1870),c=a(n(291)),d=a(n(5053)),l=a(n(5969)),f=n(7181),p=n(1086),h=a(n(9307)),v=function(){function t(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=p.DEFAULT_UA),void 0===i&&(i=!1);var o="";e&&(o=e);var r=p.DEFAULT_UA;n&&(r=n),this.client=new l.default.Client(t,o,r,i),this.baseUrl=t}return t.prototype.cancel=function(){return this.client.cancel()},t.prototype.registerApp=function(t,e){return i(this,void 0,void 0,function(){var n,r=this;return o(this,function(s){return n=e.scopes||p.DEFAULT_SCOPE,[2,this.createApp(t,e).then(function(t){return i(r,void 0,void 0,function(){return o(this,function(e){return[2,this.generateAuthUrl(t.client_id,t.client_secret,{scope:n,redirect_uri:t.redirect_uri}).then(function(e){return t.url=e,t})]})})})]})})},t.prototype.createApp=function(t,e){return i(this,void 0,void 0,function(){var n,i;return o(this,function(o){return n=e.scopes||p.DEFAULT_SCOPE,i={client_name:t,redirect_uris:e.redirect_uris||p.NO_REDIRECT,scopes:n.join(" ")},e.website&&(i.website=e.website),[2,this.client.post("/api/v1/apps",i).then(function(t){return h.default.AppData.from(t.data)})]})})},t.prototype.generateAuthUrl=function(t,e,n){var i=this,o=n.scope||p.DEFAULT_SCOPE,r=n.redirect_uri||p.NO_REDIRECT;return new Promise(function(n){n(new u.OAuth2(t,e,i.baseUrl,void 0,"/oauth/token").getAuthorizeUrl({redirect_uri:r,response_type:"code",client_id:t,scope:o.join(" ")}))})},t.prototype.verifyAppCredentials=function(){return this.client.get("/api/v1/apps/verify_credentials")},t.prototype.fetchAccessToken=function(t,e,n,r){return void 0===r&&(r=p.NO_REDIRECT),i(this,void 0,void 0,function(){return o(this,function(i){if(!t)throw Error("client_id is required");return[2,this.client.post("/oauth/token",{client_id:t,client_secret:e,code:n,redirect_uri:r,grant_type:"authorization_code"}).then(function(t){return h.default.TokenData.from(t.data)})]})})},t.prototype.refreshToken=function(t,e,n){return i(this,void 0,void 0,function(){return o(this,function(i){return[2,this.client.post("/oauth/token",{client_id:t,client_secret:e,refresh_token:n,grant_type:"refresh_token"}).then(function(t){return h.default.TokenData.from(t.data)})]})})},t.prototype.revokeToken=function(t,e,n){return i(this,void 0,void 0,function(){return o(this,function(i){return[2,this.client.post("/oauth/revoke",{client_id:t,client_secret:e,token:n})]})})},t.prototype.registerAccount=function(t,e,n,r,s,a){return i(this,void 0,void 0,function(){var i;return o(this,function(o){return i={username:t,email:e,password:n,agreement:r,locale:s},a&&(i=Object.assign(i,{reason:a})),[2,this.client.post("/api/v1/accounts",i).then(function(t){return Object.assign(t,{data:l.default.Converter.token(t.data)})})]})})},t.prototype.verifyAccountCredentials=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/accounts/verify_credentials").then(function(t){return Object.assign(t,{data:l.default.Converter.account(t.data)})})]})})},t.prototype.updateCredentials=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(void 0!==t.discoverable&&(e=Object.assign(e,{discoverable:t.discoverable})),void 0!==t.bot&&(e=Object.assign(e,{bot:t.bot})),t.display_name&&(e=Object.assign(e,{display_name:t.display_name})),t.note&&(e=Object.assign(e,{note:t.note})),t.avatar&&(e=Object.assign(e,{avatar:t.avatar})),t.header&&(e=Object.assign(e,{header:t.header})),void 0!==t.locked&&(e=Object.assign(e,{locked:t.locked})),t.source&&(e=Object.assign(e,{source:t.source})),t.fields_attributes&&(e=Object.assign(e,{fields_attributes:t.fields_attributes}))),[2,this.client.patch("/api/v1/accounts/update_credentials",e).then(function(t){return Object.assign(t,{data:l.default.Converter.account(t.data)})})]})})},t.prototype.getAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/accounts/".concat(t)).then(function(t){return Object.assign(t,{data:l.default.Converter.account(t.data)})})]})})},t.prototype.getAccountStatuses=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.limit&&(n=Object.assign(n,{limit:e.limit})),e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.min_id&&(n=Object.assign(n,{min_id:e.min_id})),e.pinned&&(n=Object.assign(n,{pinned:e.pinned})),e.exclude_replies&&(n=Object.assign(n,{exclude_replies:e.exclude_replies})),e.exclude_reblogs&&(n=Object.assign(n,{exclude_reblogs:e.exclude_reblogs})),e.only_media&&(n=Object.assign(n,{only_media:e.only_media}))),[2,this.client.get("/api/v1/accounts/".concat(t,"/statuses"),n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.status(t)})})})]})})},t.prototype.subscribeAccount=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={notify:!0},[2,this.client.post("/api/v1/accounts/".concat(t,"/follow"),e).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.unsubscribeAccount=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={notify:!1},[2,this.client.post("/api/v1/accounts/".concat(t,"/follow"),e).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.getAccountFavourites=function(t,e){return new Promise(function(t,e){e(new f.NoImplementedError("mastodon does not support"))})},t.prototype.getAccountFollowers=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.limit&&(n=Object.assign(n,{limit:e.limit}))),[2,this.urlToAccounts("/api/v1/accounts/".concat(t,"/followers"),n,(null==e?void 0:e.get_all)||!1,(null==e?void 0:e.sleep_ms)||0)]})})},t.prototype.getAccountFollowing=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.limit&&(n=Object.assign(n,{limit:e.limit}))),[2,this.urlToAccounts("/api/v1/accounts/".concat(t,"/following"),n,(null==e?void 0:e.get_all)||!1,(null==e?void 0:e.sleep_ms)||0)]})})},t.prototype.urlToAccounts=function(t,e,n,a){return i(this,void 0,void 0,function(){var i,u,c,f;return o(this,function(o){switch(o.label){case 0:return[4,this.client.get(t,e)];case 1:if((i=o.sent()).data=i.data.map(function(t){return l.default.Converter.account(t)}),!(n&&i.headers.link))return[3,6];u=(0,d.default)(i.headers.link),o.label=2;case 2:if(!(null==u?void 0:u.next))return[3,6];return[4,this.client.get(null==u?void 0:u.next.url,void 0,void 0,!0)];case 3:if(c=o.sent(),(f=i.data).push.apply(f,s([],r(c.data.map(function(t){return l.default.Converter.account(t)})),!1)),u=(0,d.default)(c.headers.link),!a)return[3,5];return[4,new Promise(function(t){return setTimeout(t,a)})];case 4:o.sent(),o.label=5;case 5:return[3,2];case 6:return[2,i]}})})},t.prototype.getAccountLists=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/accounts/".concat(t,"/lists")).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.list(t)})})})]})})},t.prototype.getIdentityProof=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/accounts/".concat(t,"/identity_proofs")).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.identity_proof(t)})})})]})})},t.prototype.followAccount=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&void 0!==e.reblog&&(n=Object.assign(n,{reblog:e.reblog})),[2,this.client.post("/api/v1/accounts/".concat(t,"/follow"),n).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.unfollowAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/unfollow")).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.blockAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/block")).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.unblockAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/unblock")).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.muteAccount=function(t,e){return void 0===e&&(e=!0),i(this,void 0,void 0,function(){return o(this,function(n){return[2,this.client.post("/api/v1/accounts/".concat(t,"/mute"),{notifications:e}).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.unmuteAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/unmute")).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.pinAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/pin")).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.unpinAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/unpin")).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.getRelationship=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/accounts/relationships",{id:[t]}).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data[0])})})]})})},t.prototype.getRelationships=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/accounts/relationships",{id:t}).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.relationship(t)})})})]})})},t.prototype.searchAccount=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={q:t},e&&(void 0!==e.following&&null!==e.following&&(n=Object.assign(n,{following:e.following})),void 0!==e.resolve&&null!==e.resolve&&(n=Object.assign(n,{resolve:e.resolve})),e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.limit&&(n=Object.assign(n,{limit:e.limit}))),[2,this.client.get("/api/v1/accounts/search",n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]})})},t.prototype.getBookmarks=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.limit&&(e=Object.assign(e,{limit:t.limit})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id}))),[2,this.client.get("/api/v1/bookmarks",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.status(t)})})})]})})},t.prototype.getFavourites=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/favourites",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.status(t)})})})]})})},t.prototype.getMutes=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/mutes",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]})})},t.prototype.getBlocks=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/blocks",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]})})},t.prototype.getDomainBlocks=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/domain_blocks",e)]})})},t.prototype.blockDomain=function(t){return this.client.post("/api/v1/domain_blocks",{domain:t})},t.prototype.unblockDomain=function(t){return this.client.del("/api/v1/domain_blocks",{domain:t})},t.prototype.getFilters=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/filters").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.filter(t)})})})]})})},t.prototype.getFilter=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/filters/".concat(t)).then(function(t){return Object.assign(t,{data:l.default.Converter.filter(t.data)})})]})})},t.prototype.createFilter=function(t,e,n){return i(this,void 0,void 0,function(){var i;return o(this,function(o){return i={phrase:t,context:e},n&&(void 0!==n.irreversible&&(i=Object.assign(i,{irreversible:n.irreversible})),void 0!==n.whole_word&&(i=Object.assign(i,{whole_word:n.whole_word})),n.expires_in&&(i=Object.assign(i,{expires_in:n.expires_in}))),[2,this.client.post("/api/v1/filters",i).then(function(t){return Object.assign(t,{data:l.default.Converter.filter(t.data)})})]})})},t.prototype.updateFilter=function(t,e,n,r){return i(this,void 0,void 0,function(){var i;return o(this,function(o){return i={phrase:e,context:n},r&&(void 0!==r.irreversible&&(i=Object.assign(i,{irreversible:r.irreversible})),void 0!==r.whole_word&&(i=Object.assign(i,{whole_word:r.whole_word})),r.expires_in&&(i=Object.assign(i,{expires_in:r.expires_in}))),[2,this.client.put("/api/v1/filters/".concat(t),i).then(function(t){return Object.assign(t,{data:l.default.Converter.filter(t.data)})})]})})},t.prototype.deleteFilter=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.del("/api/v1/filters/".concat(t)).then(function(t){return Object.assign(t,{data:l.default.Converter.filter(t.data)})})]})})},t.prototype.report=function(t,e,n){return i(this,void 0,void 0,function(){var i;return o(this,function(o){return i={account_id:t,comment:e},n&&(n.status_ids&&(i=Object.assign(i,{status_ids:n.status_ids})),void 0!==n.forward&&(i=Object.assign(i,{forward:n.forward}))),[2,this.client.post("/api/v1/reports",i).then(function(t){return Object.assign(t,{data:l.default.Converter.report(t.data)})})]})})},t.prototype.getFollowRequests=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return t?[2,this.client.get("/api/v1/follow_requests",{limit:t}).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]:[2,this.client.get("/api/v1/follow_requests").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]})})},t.prototype.acceptFollowRequest=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/follow_requests/".concat(t,"/authorize")).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.rejectFollowRequest=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/follow_requests/".concat(t,"/reject")).then(function(t){return Object.assign(t,{data:l.default.Converter.relationship(t.data)})})]})})},t.prototype.getEndorsements=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id}))),[2,this.client.get("/api/v1/endorsements",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]})})},t.prototype.getFeaturedTags=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/featured_tags").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.featured_tag(t)})})})]})})},t.prototype.createFeaturedTag=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/featured_tags",{name:t}).then(function(t){return Object.assign(t,{data:l.default.Converter.featured_tag(t.data)})})]})})},t.prototype.deleteFeaturedTag=function(t){return this.client.del("/api/v1/featured_tags/".concat(t))},t.prototype.getSuggestedTags=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/featured_tags/suggestions").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.tag(t)})})})]})})},t.prototype.getPreferences=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/preferences").then(function(t){return Object.assign(t,{data:l.default.Converter.preferences(t.data)})})]})})},t.prototype.getSuggestions=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return t?[2,this.client.get("/api/v1/suggestions",{limit:t}).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]:[2,this.client.get("/api/v1/suggestions").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]})})},t.prototype.postStatus=function(t,e){return i(this,void 0,void 0,function(){var n,i;return o(this,function(o){return n={status:t},e&&(e.media_ids&&(n=Object.assign(n,{media_ids:e.media_ids})),e.poll&&(i={options:e.poll.options,expires_in:e.poll.expires_in},void 0!==e.poll.multiple&&(i=Object.assign(i,{multiple:e.poll.multiple})),void 0!==e.poll.hide_totals&&(i=Object.assign(i,{hide_totals:e.poll.hide_totals})),n=Object.assign(n,{poll:i})),e.in_reply_to_id&&(n=Object.assign(n,{in_reply_to_id:e.in_reply_to_id})),void 0!==e.sensitive&&(n=Object.assign(n,{sensitive:e.sensitive})),e.spoiler_text&&(n=Object.assign(n,{spoiler_text:e.spoiler_text})),e.visibility&&(n=Object.assign(n,{visibility:e.visibility})),e.scheduled_at&&(n=Object.assign(n,{scheduled_at:e.scheduled_at})),e.language&&(n=Object.assign(n,{language:e.language})),e.quote_id&&(n=Object.assign(n,{quote_id:e.quote_id}))),[2,this.client.post("/api/v1/statuses",n).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.getStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/statuses/".concat(t)).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.deleteStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.del("/api/v1/statuses/".concat(t)).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.getStatusContext=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.limit&&(n=Object.assign(n,{limit:e.limit})),e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id}))),[2,this.client.get("/api/v1/statuses/".concat(t,"/context"),n).then(function(t){return Object.assign(t,{data:l.default.Converter.context(t.data)})})]})})},t.prototype.getStatusRebloggedBy=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/statuses/".concat(t,"/reblogged_by")).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]})})},t.prototype.getStatusFavouritedBy=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/statuses/".concat(t,"/favourited_by")).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]})})},t.prototype.favouriteStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/favourite")).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.unfavouriteStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/unfavourite")).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.reblogStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/reblog")).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.unreblogStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/unreblog")).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.bookmarkStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/bookmark")).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.unbookmarkStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/unbookmark")).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.muteStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/mute")).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.unmuteStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/unmute")).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.pinStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/pin")).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.unpinStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/unpin")).then(function(t){return Object.assign(t,{data:l.default.Converter.status(t.data)})})]})})},t.prototype.uploadMedia=function(t,e){return i(this,void 0,void 0,function(){var n,i;return o(this,function(o){return(n=new c.default).append("file",t),e&&(e.description&&n.append("description",e.description),e.focus&&n.append("focus",e.focus)),i={},"function"==typeof n.getHeaders&&(i=n.getHeaders()),[2,this.client.post("/api/v1/media",n,i).then(function(t){return Object.assign(t,{data:l.default.Converter.attachment(t.data)})})]})})},t.prototype.updateMedia=function(t,e){return i(this,void 0,void 0,function(){var n,i;return o(this,function(o){return n=new c.default,e&&(e.file&&n.append("file",e.file),e.description&&n.append("description",e.description),e.focus&&n.append("focus",e.focus)),i={},"function"==typeof n.getHeaders&&(i=n.getHeaders()),[2,this.client.put("/api/v1/media/".concat(t),n,i).then(function(t){return Object.assign(t,{data:l.default.Converter.attachment(t.data)})})]})})},t.prototype.getPoll=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/polls/".concat(t)).then(function(t){return Object.assign(t,{data:l.default.Converter.poll(t.data)})})]})})},t.prototype.votePoll=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){return[2,this.client.post("/api/v1/polls/".concat(t,"/votes"),{choices:e}).then(function(t){return Object.assign(t,{data:l.default.Converter.poll(t.data)})})]})})},t.prototype.getScheduledStatuses=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id}))),[2,this.client.get("/api/v1/scheduled_statuses",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.scheduled_status(t)})})})]})})},t.prototype.getScheduledStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/scheduled_statuses/".concat(t)).then(function(t){return Object.assign(t,{data:l.default.Converter.scheduled_status(t.data)})})]})})},t.prototype.scheduleStatus=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(n=Object.assign(n,{scheduled_at:e})),[2,this.client.put("/api/v1/scheduled_statuses/".concat(t),n).then(function(t){return Object.assign(t,{data:l.default.Converter.scheduled_status(t.data)})})]})})},t.prototype.cancelScheduledStatus=function(t){return this.client.del("/api/v1/scheduled_statuses/".concat(t))},t.prototype.getPublicTimeline=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={local:!1},t&&(void 0!==t.only_media&&(e=Object.assign(e,{only_media:t.only_media})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/timelines/public",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.status(t)})})})]})})},t.prototype.getLocalTimeline=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={local:!0},t&&(void 0!==t.only_media&&(e=Object.assign(e,{only_media:t.only_media})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/timelines/public",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.status(t)})})})]})})},t.prototype.getTagTimeline=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(void 0!==e.local&&(n=Object.assign(n,{local:e.local})),void 0!==e.only_media&&(n=Object.assign(n,{only_media:e.only_media})),e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.min_id&&(n=Object.assign(n,{min_id:e.min_id})),e.limit&&(n=Object.assign(n,{limit:e.limit}))),[2,this.client.get("/api/v1/timelines/tag/".concat(t),n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.status(t)})})})]})})},t.prototype.getHomeTimeline=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(void 0!==t.local&&(e=Object.assign(e,{local:t.local})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/timelines/home",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.status(t)})})})]})})},t.prototype.getListTimeline=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.min_id&&(n=Object.assign(n,{min_id:e.min_id})),e.limit&&(n=Object.assign(n,{limit:e.limit}))),[2,this.client.get("/api/v1/timelines/list/".concat(t),n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.status(t)})})})]})})},t.prototype.getConversationTimeline=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/conversations",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.conversation(t)})})})]})})},t.prototype.deleteConversation=function(t){return this.client.del("/api/v1/conversations/".concat(t))},t.prototype.readConversation=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/conversations/".concat(t,"/read")).then(function(t){return Object.assign(t,{data:l.default.Converter.conversation(t.data)})})]})})},t.prototype.getLists=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/lists").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.list(t)})})})]})})},t.prototype.getList=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/lists/".concat(t)).then(function(t){return Object.assign(t,{data:l.default.Converter.list(t.data)})})]})})},t.prototype.createList=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/lists",{title:t}).then(function(t){return Object.assign(t,{data:l.default.Converter.list(t.data)})})]})})},t.prototype.updateList=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){return[2,this.client.put("/api/v1/lists/".concat(t),{title:e}).then(function(t){return Object.assign(t,{data:l.default.Converter.list(t.data)})})]})})},t.prototype.deleteList=function(t){return this.client.del("/api/v1/lists/".concat(t))},t.prototype.getAccountsInList=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.limit&&(n=Object.assign(n,{limit:e.limit})),e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id}))),[2,this.client.get("/api/v1/lists/".concat(t,"/accounts"),n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]})})},t.prototype.addAccountsToList=function(t,e){return this.client.post("/api/v1/lists/".concat(t,"/accounts"),{account_ids:e})},t.prototype.deleteAccountsFromList=function(t,e){return this.client.del("/api/v1/lists/".concat(t,"/accounts"),{account_ids:e})},t.prototype.getMarkers=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/markers",{timeline:t})]})})},t.prototype.saveMarkers=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.home&&(e=Object.assign(e,{home:t.home})),t.notifications&&(e=Object.assign(e,{notifications:t.notifications}))),[2,this.client.post("/api/v1/markers",e).then(function(t){return Object.assign(t,{data:l.default.Converter.marker(t.data)})})]})})},t.prototype.getNotifications=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.exclude_types&&(e=Object.assign(e,{exclude_types:t.exclude_types.map(function(t){return l.default.Converter.encodeNotificationType(t)})})),t.account_id&&(e=Object.assign(e,{account_id:t.account_id}))),[2,this.client.get("/api/v1/notifications",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.notification(t)})})})]})})},t.prototype.getNotification=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/notifications/".concat(t)).then(function(t){return Object.assign(t,{data:l.default.Converter.notification(t.data)})})]})})},t.prototype.dismissNotifications=function(){return this.client.post("/api/v1/notifications/clear")},t.prototype.dismissNotification=function(t){return this.client.post("/api/v1/notifications/".concat(t,"/dismiss"))},t.prototype.readNotifications=function(t){return new Promise(function(t,e){e(new f.NoImplementedError("mastodon does not support"))})},t.prototype.subscribePushNotification=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={subscription:t},e&&(n=Object.assign(n,{data:e})),[2,this.client.post("/api/v1/push/subscription",n).then(function(t){return Object.assign(t,{data:l.default.Converter.push_subscription(t.data)})})]})})},t.prototype.getPushSubscription=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/push/subscription").then(function(t){return Object.assign(t,{data:l.default.Converter.push_subscription(t.data)})})]})})},t.prototype.updatePushSubscription=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(e=Object.assign(e,{data:t})),[2,this.client.put("/api/v1/push/subscription",e).then(function(t){return Object.assign(t,{data:l.default.Converter.push_subscription(t.data)})})]})})},t.prototype.deletePushSubscription=function(){return this.client.del("/api/v1/push/subscription")},t.prototype.search=function(t,e,n){return i(this,void 0,void 0,function(){var i;return o(this,function(o){return i={q:t,type:e},n&&(n.limit&&(i=Object.assign(i,{limit:n.limit})),n.max_id&&(i=Object.assign(i,{max_id:n.max_id})),n.min_id&&(i=Object.assign(i,{min_id:n.min_id})),void 0!==n.resolve&&(i=Object.assign(i,{resolve:n.resolve})),n.offset&&(i=Object.assign(i,{offset:n.offset})),void 0!==n.following&&(i=Object.assign(i,{following:n.following})),n.account_id&&(i=Object.assign(i,{account_id:n.account_id})),n.exclude_unreviewed&&(i=Object.assign(i,{exclude_unreviewed:n.exclude_unreviewed}))),[2,this.client.get("/api/v2/search",i).then(function(t){return Object.assign(t,{data:l.default.Converter.results(t.data)})})]})})},t.prototype.getInstance=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/instance").then(function(t){return Object.assign(t,{data:l.default.Converter.instance(t.data)})})]})})},t.prototype.getInstancePeers=function(){return this.client.get("/api/v1/instance/peers")},t.prototype.getInstanceActivity=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/instance/activity").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.activity(t)})})})]})})},t.prototype.getInstanceTrends=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(e=Object.assign(e,{limit:t})),[2,this.client.get("/api/v1/trends",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.tag(t)})})})]})})},t.prototype.getInstanceDirectory=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.offset&&(e=Object.assign(e,{offset:t.offset})),t.order&&(e=Object.assign(e,{order:t.order})),void 0!==t.local&&(e=Object.assign(e,{local:t.local}))),[2,this.client.get("/api/v1/directory",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.account(t)})})})]})})},t.prototype.getInstanceCustomEmojis=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/custom_emojis").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return l.default.Converter.emoji(t)})})})]})})},t.prototype.createEmojiReaction=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,new Promise(function(t,e){e(new f.NoImplementedError("misskey does not support"))})]})})},t.prototype.deleteEmojiReaction=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,new Promise(function(t,e){e(new f.NoImplementedError("misskey does not support"))})]})})},t.prototype.getEmojiReactions=function(t){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,new Promise(function(t,e){e(new f.NoImplementedError("misskey does not support"))})]})})},t.prototype.getEmojiReaction=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,new Promise(function(t,e){e(new f.NoImplementedError("misskey does not support"))})]})})},t.prototype.userStream=function(){return this.client.stream("/api/v1/streaming/user")},t.prototype.publicStream=function(){return this.client.stream("/api/v1/streaming/public")},t.prototype.localStream=function(){return this.client.stream("/api/v1/streaming/public/local")},t.prototype.tagStream=function(t){return this.client.stream("/api/v1/streaming/hashtag?tag=".concat(t))},t.prototype.listStream=function(t){return this.client.stream("/api/v1/streaming/list?list=".concat(t))},t.prototype.directStream=function(){return this.client.stream("/api/v1/streaming/direct")},t.prototype.userSocket=function(){return this.client.socket("/api/v1/streaming","user")},t.prototype.publicSocket=function(){return this.client.socket("/api/v1/streaming","public")},t.prototype.localSocket=function(){return this.client.socket("/api/v1/streaming","public:local")},t.prototype.tagSocket=function(t){return this.client.socket("/api/v1/streaming","hashtag","tag=".concat(t))},t.prototype.listSocket=function(t){return this.client.socket("/api/v1/streaming","list","list=".concat(t))},t.prototype.directSocket=function(){return this.client.socket("/api/v1/streaming","direct")},t}();e.default=v},5969:function(t,e,n){"use strict";var i,o,r,s,a=n(3454),u=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{u(i.next(t))}catch(e){r(e)}}function a(t){try{u(i.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=d(n(7852)),f=d(n(5196)),p=d(n(4335)),h=d(n(7286)),v=n(9046),m=d(n(334)),g=n(1086),_=d(n(4232)),b=d(n(584));i=s||(s={}),o=function(){function t(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=g.DEFAULT_UA),void 0===i&&(i=!1),this.proxyConfig=!1,this.accessToken=e,this.baseUrl=t,this.userAgent=n,this.proxyConfig=i,this.abortController=new AbortController,l.default.defaults.signal=this.abortController.signal}return t.prototype.get=function(t,e,n,i){return void 0===e&&(e={}),void 0===n&&(n={}),void 0===i&&(i=!1),u(this,void 0,void 0,function(){var o;return c(this,function(r){return o={params:e,headers:n,maxContentLength:1/0,maxBodyLength:1/0},this.accessToken&&(o=(0,f.default)({},o,{headers:{Authorization:"Bearer ".concat(this.accessToken)}})),this.proxyConfig&&(o=Object.assign(o,{httpAgent:(0,m.default)(this.proxyConfig),httpsAgent:(0,m.default)(this.proxyConfig)})),[2,l.default.get((i?"":this.baseUrl)+t,o).catch(function(t){if(l.default.isCancel(t))throw new v.RequestCanceledError(t.message);throw t}).then(function(t){return{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}})]})})},t.prototype.put=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),u(this,void 0,void 0,function(){var i;return c(this,function(o){return i={headers:n,maxContentLength:1/0,maxBodyLength:1/0},this.accessToken&&(i=(0,f.default)({},i,{headers:{Authorization:"Bearer ".concat(this.accessToken)}})),this.proxyConfig&&(i=Object.assign(i,{httpAgent:(0,m.default)(this.proxyConfig),httpsAgent:(0,m.default)(this.proxyConfig)})),[2,l.default.put(this.baseUrl+t,e,i).catch(function(t){if(l.default.isCancel(t))throw new v.RequestCanceledError(t.message);throw t}).then(function(t){return{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}})]})})},t.prototype.patch=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),u(this,void 0,void 0,function(){var i;return c(this,function(o){return i={headers:n,maxContentLength:1/0,maxBodyLength:1/0},this.accessToken&&(i=(0,f.default)({},i,{headers:{Authorization:"Bearer ".concat(this.accessToken)}})),this.proxyConfig&&(i=Object.assign(i,{httpAgent:(0,m.default)(this.proxyConfig),httpsAgent:(0,m.default)(this.proxyConfig)})),[2,l.default.patch(this.baseUrl+t,e,i).catch(function(t){if(l.default.isCancel(t))throw new v.RequestCanceledError(t.message);throw t}).then(function(t){return{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}})]})})},t.prototype.post=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),u(this,void 0,void 0,function(){var i;return c(this,function(o){return i={headers:n,maxContentLength:1/0,maxBodyLength:1/0},this.accessToken&&(i=(0,f.default)({},i,{headers:{Authorization:"Bearer ".concat(this.accessToken)}})),this.proxyConfig&&(i=Object.assign(i,{httpAgent:(0,m.default)(this.proxyConfig),httpsAgent:(0,m.default)(this.proxyConfig)})),[2,l.default.post(this.baseUrl+t,e,i).then(function(t){return{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}})]})})},t.prototype.del=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),u(this,void 0,void 0,function(){var i;return c(this,function(o){return i={data:e,headers:n,maxContentLength:1/0,maxBodyLength:1/0},this.accessToken&&(i=(0,f.default)({},i,{headers:{Authorization:"Bearer ".concat(this.accessToken)}})),this.proxyConfig&&(i=Object.assign(i,{httpAgent:(0,m.default)(this.proxyConfig),httpsAgent:(0,m.default)(this.proxyConfig)})),[2,l.default.delete(this.baseUrl+t,i).catch(function(t){if(l.default.isCancel(t))throw new v.RequestCanceledError(t.message);throw t}).then(function(t){return{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}})]})})},t.prototype.cancel=function(){return this.abortController.abort()},t.prototype.stream=function(t,e){if(void 0===e&&(e=1e3),!this.accessToken)throw Error("accessToken is required");var n={"Cache-Control":"no-cache",Accept:"text/event-stream","Content-Type":"text/event-stream",Authorization:"Bearer ".concat(this.accessToken),"User-Agent":this.userAgent},i=this.baseUrl+t+"?access_token=".concat(this.accessToken),o=new p.default(i,n,this.proxyConfig,e);return a.nextTick(function(){o.start()}),o},t.prototype.socket=function(t,e,n){if(!this.accessToken)throw Error("accessToken is required");var i=this.baseUrl+t,o=new h.default(i,e,n,this.accessToken,this.userAgent,this.proxyConfig);return a.nextTick(function(){o.start()}),o},t.DEFAULT_SCOPE=g.DEFAULT_SCOPE,t.DEFAULT_URL="https://mastodon.social",t.NO_REDIRECT=g.NO_REDIRECT,t}(),i.Client=o,(r=i.Converter||(i.Converter={})).encodeNotificationType=function(t){switch(t){case _.default.Follow:return b.default.Follow;case _.default.Favourite:return b.default.Favourite;case _.default.Reblog:return b.default.Reblog;case _.default.Mention:return b.default.Mention;case _.default.FollowRequest:return b.default.FollowRequest;case _.default.Status:return b.default.Status;case _.default.PollExpired:return b.default.Poll;default:return t}},r.decodeNotificationType=function(t){switch(t){case b.default.Follow:return _.default.Follow;case b.default.Favourite:return _.default.Favourite;case b.default.Mention:return _.default.Mention;case b.default.Reblog:return _.default.Reblog;case b.default.FollowRequest:return _.default.FollowRequest;case b.default.Status:return _.default.Status;case b.default.Poll:return _.default.PollExpired;default:return t}},r.account=function(t){return t},r.activity=function(t){return t},r.application=function(t){return t},r.attachment=function(t){return t},r.card=function(t){return t},r.context=function(t){return{ancestors:t.ancestors.map(function(t){return r.status(t)}),descendants:t.descendants.map(function(t){return r.status(t)})}},r.conversation=function(t){return{id:t.id,accounts:t.accounts.map(function(t){return r.account(t)}),last_status:t.last_status?r.status(t.last_status):null,unread:t.unread}},r.emoji=function(t){return t},r.featured_tag=function(t){return t},r.field=function(t){return t},r.filter=function(t){return t},r.history=function(t){return t},r.identity_proof=function(t){return t},r.instance=function(t){return t},r.list=function(t){return t},r.marker=function(t){return t},r.mention=function(t){return t},r.notification=function(t){return t.status?{account:r.account(t.account),created_at:t.created_at,id:t.id,status:r.status(t.status),type:r.decodeNotificationType(t.type)}:{account:r.account(t.account),created_at:t.created_at,id:t.id,type:r.decodeNotificationType(t.type)}},r.poll=function(t){return t},r.poll_option=function(t){return t},r.preferences=function(t){return t},r.push_subscription=function(t){return t},r.relationship=function(t){return t},r.report=function(t){return t},r.results=function(t){return{accounts:t.accounts.map(function(t){return r.account(t)}),statuses:t.statuses.map(function(t){return r.status(t)}),hashtags:t.hashtags.map(function(t){return r.tag(t)})}},r.scheduled_status=function(t){return t},r.source=function(t){return t},r.stats=function(t){return t},r.status=function(t){return{id:t.id,uri:t.uri,url:t.url,account:r.account(t.account),in_reply_to_id:t.in_reply_to_id,in_reply_to_account_id:t.in_reply_to_account_id,reblog:t.reblog?r.status(t.reblog):t.quote?r.status(t.quote):null,content:t.content,plain_content:null,created_at:t.created_at,emojis:t.emojis.map(function(t){return r.emoji(t)}),replies_count:t.replies_count,reblogs_count:t.reblogs_count,favourites_count:t.favourites_count,reblogged:t.reblogged,favourited:t.favourited,muted:t.muted,sensitive:t.sensitive,spoiler_text:t.spoiler_text,visibility:t.visibility,media_attachments:t.media_attachments.map(function(t){return r.attachment(t)}),mentions:t.mentions.map(function(t){return r.mention(t)}),tags:t.tags.map(function(t){return r.tag(t)}),card:t.card?r.card(t.card):null,poll:t.poll?r.poll(t.poll):null,application:t.application?r.application(t.application):null,language:t.language,pinned:t.pinned,emoji_reactions:[],bookmarked:!!t.bookmarked&&t.bookmarked,quote:void 0!==t.quote&&null!==t.quote}},r.status_params=function(t){return t},r.tag=function(t){return t},r.token=function(t){return t},r.urls=function(t){return t},e.default=s},584:function(t,e){"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),(i=n||(n={})).Mention="mention",i.Reblog="reblog",i.Favourite="favourite",i.Follow="follow",i.Poll="poll",i.FollowRequest="follow_request",i.Status="status",e.default=n},4335:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.StreamListenerError=void 0;var s=n(667),a=r(n(7852)),u=r(n(9606)),c=n(4875),d=r(n(334)),l=r(n(5969)),f=[400,401,403,404,406,410,422],p=function(t){function e(e,n){var i=t.call(this)||this;return i.statusCode=e,i.message=n,i}return o(e,t),e}(Error);e.StreamListenerError=p;var h=function(t){function e(e,n,i,o){void 0===i&&(i=!1);var r=t.call(this)||this;return r.proxyConfig=!1,r._connectionClosed=!1,r._reconnectMaxAttempts=1/0,r._reconnectCurrentAttempts=0,r.url=e,r.headers=n,r.parser=new c.Parser,r.proxyConfig=i,r._reconnectInterval=o,r._cancelSource=a.default.CancelToken.source(),r}return o(e,t),e.prototype.start=function(){this._setupParser(),this._connect()},e.prototype._connect=function(){var t=this,e={responseType:"stream",adapter:u.default,cancelToken:this._cancelSource.token,maxContentLength:1/0,maxBodyLength:1/0};this.proxyConfig&&(e=Object.assign(e,{httpsAgent:(0,d.default)(this.proxyConfig)})),a.default.get(this.url,e).then(function(e){var n=e.data;"text/event-stream"!==e.headers["content-type"]&&t.emit("no-event-stream","no event"),f.includes(e.status)?n.on("data",function(n){var i=n.toString();try{i=JSON.parse(i)}catch(o){}var r=new p(e.status,i);t.emit("error",r),t.stop()}):(n.on("data",function(e){t.parser.parse(e.toString())}),n.on("error",function(e){t.emit("error",e)})),n.on("end",function(e){e?(console.log("Closed connection with ".concat(e.message)),t._connectionClosed||t._reconnect()):t.emit("close",{})}),t.emit("connect",n)})},e.prototype._reconnect=function(){var t=this;setTimeout(function(){t._reconnectCurrentAttempts<t._reconnectMaxAttempts&&(t._reconnectCurrentAttempts++,t._cancelSource.cancel(),console.log("Reconnecting"),t._connect())},this._reconnectInterval)},e.prototype.stop=function(){this._connectionClosed=!0,this._resetConnection(),this._resetRetryParams()},e.prototype._resetConnection=function(){this._cancelSource.cancel(),this.parser&&this.parser.removeAllListeners()},e.prototype._resetRetryParams=function(){this._reconnectCurrentAttempts=0},e.prototype._setupParser=function(){var t=this;this.parser.on("update",function(e){t.emit("update",l.default.Converter.status(e))}),this.parser.on("notification",function(e){t.emit("notification",l.default.Converter.notification(e))}),this.parser.on("conversation",function(e){t.emit("conversation",l.default.Converter.conversation(e))}),this.parser.on("delete",function(e){t.emit("delete",e)}),this.parser.on("error",function(e){t.emit("parser-error",e)}),this.parser.on("connection-limit-exceeded",function(e){t.emit("error",e)}),this.parser.on("heartbeat",function(e){t.emit("heartbeat","heartbeat")})},e}(s.EventEmitter);e.default=h},7286:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var s=r(n(4141)),a=r(n(738)),u=n(667),c=r(n(334)),d=r(n(5969)),l=function(t){function e(e,n,i,o,r,s){void 0===s&&(s=!1);var u=t.call(this)||this;return u.proxyConfig=!1,u._heartbeatInterval=6e4,u._pongWaiting=!1,u.url=e,u.stream=n,void 0===i?u.params=null:u.params=i,u.parser=new f,u.headers={"User-Agent":r},u.proxyConfig=s,u._accessToken=o,u._reconnectInterval=1e4,u._reconnectMaxAttempts=1/0,u._reconnectCurrentAttempts=0,u._connectionClosed=!1,u._client=null,u._pongReceivedTimestamp=(0,a.default)(),u}return o(e,t),e.prototype.start=function(){this._connectionClosed=!1,this._resetRetryParams(),this._startWebSocketConnection()},e.prototype._startWebSocketConnection=function(){this._resetConnection(),this._setupParser(),this._client=this._connect(this.url,this.stream,this.params,this._accessToken,this.headers,this.proxyConfig),this._bindSocket(this._client)},e.prototype.stop=function(){this._connectionClosed=!0,this._resetConnection(),this._resetRetryParams()},e.prototype._resetConnection=function(){this._client&&(this._client.close(1e3),this._client.removeAllListeners(),this._client=null),this.parser&&this.parser.removeAllListeners()},e.prototype._resetRetryParams=function(){this._reconnectCurrentAttempts=0},e.prototype._reconnect=function(){var t=this;setTimeout(function(){(!t._client||t._client.readyState!==s.default.CONNECTING)&&t._reconnectCurrentAttempts<t._reconnectMaxAttempts&&(t._reconnectCurrentAttempts++,t._clearBinding(),t._client&&t._client.terminate(),console.log("Reconnecting"),t._client=t._connect(t.url,t.stream,t.params,t._accessToken,t.headers,t.proxyConfig),t._bindSocket(t._client))},this._reconnectInterval)},e.prototype._connect=function(t,e,n,i,o,r){var a=["stream=".concat(e)];n&&a.push(n),null!==i&&a.push("access_token=".concat(i));var u="".concat(t,"/?").concat(a.join("&")),d={headers:o};return r&&(d=Object.assign(d,{agent:(0,c.default)(r)})),new s.default(u,d)},e.prototype._clearBinding=function(){this._client&&(this._client.removeAllListeners("close"),this._client.removeAllListeners("pong"),this._client.removeAllListeners("open"),this._client.removeAllListeners("message"),this._client.removeAllListeners("error"))},e.prototype._bindSocket=function(t){var e=this;t.on("close",function(t,n){1e3===t?e.emit("close",{}):(console.log("Closed connection with ".concat(t)),e._connectionClosed||e._reconnect())}),t.on("pong",function(){e._pongWaiting=!1,e.emit("pong",{}),e._pongReceivedTimestamp=(0,a.default)(),setTimeout(function(){return e._checkAlive(e._pongReceivedTimestamp)},e._heartbeatInterval)}),t.on("open",function(){e.emit("connect",{}),setTimeout(function(){t.ping("")},1e4)}),t.on("message",function(t,n){e.parser.parse(t,n)}),t.on("error",function(t){e.emit("error",t)})},e.prototype._setupParser=function(){var t=this;this.parser.on("update",function(e){t.emit("update",d.default.Converter.status(e))}),this.parser.on("notification",function(e){t.emit("notification",d.default.Converter.notification(e))}),this.parser.on("delete",function(e){t.emit("delete",e)}),this.parser.on("conversation",function(e){t.emit("conversation",d.default.Converter.conversation(e))}),this.parser.on("error",function(e){t.emit("parser-error",e)}),this.parser.on("heartbeat",function(e){t.emit("heartbeat","heartbeat")})},e.prototype._checkAlive=function(t){var e=this;(0,a.default)().diff(t)>this._heartbeatInterval-1e3&&!this._connectionClosed&&this._client&&this._client.readyState!==s.default.CONNECTING&&(this._pongWaiting=!0,this._client.ping(""),setTimeout(function(){e._pongWaiting&&(e._pongWaiting=!1,e._reconnect())},1e4))},e}(u.EventEmitter);e.default=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parse=function(t,e){var n=e?t:t.toString();if("string"!=typeof n||""===n){this.emit("heartbeat",{});return}var i="",o="",r={};try{var s=JSON.parse(n);i=s.event,o=s.payload,r=JSON.parse(o)}catch(a){if("delete"!==i){this.emit("error",Error("Error parsing websocket reply: ".concat(n,", error message: ").concat(a)));return}}switch(i){case"update":this.emit("update",r);break;case"notification":this.emit("notification",r);break;case"conversation":this.emit("conversation",r);break;case"delete":this.emit("delete",o);break;default:this.emit("error",Error("Unknown event has received: ".concat(n)))}},e}(u.EventEmitter);e.Parser=f},7181:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{u(i.next(t))}catch(e){r(e)}}function a(t){try{u(i.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.detector=e.UnexpectedError=e.ArgumentError=e.NoImplementedError=void 0;var u=a(n(8587)),c=a(n(334)),d=a(n(1492)),l=a(n(7852)),f=a(n(8541)),p=function(t){function e(e){var n=this.constructor,i=t.call(this,e)||this;return i.name=n.name,Object.setPrototypeOf(i,n.prototype),i}return o(e,t),e}(Error);e.NoImplementedError=p;var h=function(t){function e(e){var n=this.constructor,i=t.call(this,e)||this;return i.name=n.name,Object.setPrototypeOf(i,n.prototype),i}return o(e,t),e}(Error);e.ArgumentError=h;var v=function(t){function e(e){var n=this.constructor,i=t.call(this,e)||this;return i.name=n.name,Object.setPrototypeOf(i,n.prototype),i}return o(e,t),e}(Error);e.UnexpectedError=v;var m=function(t,e){return void 0===e&&(e=!1),r(void 0,void 0,void 0,function(){var n;return s(this,function(i){switch(i.label){case 0:n={},e&&(n=Object.assign(n,{httpsAgent:(0,c.default)(e)})),i.label=1;case 1:return i.trys.push([1,3,,5]),[4,l.default.get(t+"/api/v1/instance",n)];case 2:if(i.sent().data.version.includes("Pleroma"))return[2,"pleroma"];return[2,"mastodon"];case 3:return i.sent(),[4,l.default.post(t+"/api/meta",{},n)];case 4:return i.sent(),[2,"misskey"];case 5:return[2]}})})};e.detector=m;var g=function(t,e,n,i,o){switch(void 0===n&&(n=null),void 0===i&&(i=null),void 0===o&&(o=!1),t){case"pleroma":return new u.default(e,n,i,o);case"misskey":return new f.default(e,n,i,o);default:return new d.default(e,n,i,o)}};e.default=g},8541:function(t,e,n){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{u(i.next(t))}catch(e){r(e)}}function a(t){try{u(i.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(n(291)),u=s(n(9875)),c=n(1086),d=s(n(9307)),l=n(7181),f=function(){function t(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=c.DEFAULT_UA),void 0===i&&(i=!1);var o="";e&&(o=e);var r=c.DEFAULT_UA;n&&(r=n),this.client=new u.default.Client(t,o,r,i),this.baseUrl=t,this.proxyConfig=i}return t.prototype.cancel=function(){return this.client.cancel()},t.prototype.registerApp=function(t,e){return void 0===e&&(e={scopes:u.default.DEFAULT_SCOPE,redirect_uris:this.baseUrl}),o(this,void 0,void 0,function(){var n=this;return r(this,function(i){return[2,this.createApp(t,e).then(function(t){return o(n,void 0,void 0,function(){return r(this,function(e){return[2,this.generateAuthUrlAndToken(t.client_secret).then(function(e){return t.url=e.url,t.session_token=e.token,t})]})})})]})})},t.prototype.createApp=function(t,e){return void 0===e&&(e={scopes:u.default.DEFAULT_SCOPE,redirect_uris:this.baseUrl}),o(this,void 0,void 0,function(){var n,i;return r(this,function(o){return n=e.redirect_uris||this.baseUrl,i={name:t,description:"",permission:e.scopes||u.default.DEFAULT_SCOPE,callbackUrl:n},[2,this.client.post("/api/app/create",i).then(function(t){var e={id:t.data.id,name:t.data.name,website:null,redirect_uri:t.data.callbackUrl,client_id:"",client_secret:t.data.secret};return d.default.AppData.from(e)})]})})},t.prototype.generateAuthUrlAndToken=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return[2,this.client.post("/api/auth/session/generate",{appSecret:t}).then(function(t){return t.data})]})})},t.prototype.verifyAppCredentials=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.fetchAccessToken=function(t,e,n,i){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,this.client.post("/api/auth/session/userkey",{appSecret:e,token:n}).then(function(t){return new d.default.TokenData(t.data.accessToken,"misskey","",0,null,null)})]})})},t.prototype.refreshToken=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.revokeToken=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.registerAccount=function(t,e,n,i,s,a){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.verifyAccountCredentials=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,this.client.post("/api/i").then(function(t){return Object.assign(t,{data:u.default.Converter.userDetail(t.data)})})]})})},t.prototype.updateCredentials=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){return e={},t&&(void 0!==t.bot&&(e=Object.assign(e,{isBot:t.bot})),t.display_name&&(e=Object.assign(e,{name:t.display_name})),t.note&&(e=Object.assign(e,{description:t.note})),void 0!==t.locked&&(e=Object.assign(e,{isLocked:t.locked})),t.source&&(t.source.language&&(e=Object.assign(e,{lang:t.source.language})),t.source.sensitive&&(e=Object.assign(e,{alwaysMarkNsfw:t.source.sensitive})))),[2,this.client.post("/api/i",e).then(function(t){return Object.assign(t,{data:u.default.Converter.userDetail(t.data)})})]})})},t.prototype.getAccount=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return[2,this.client.post("/api/users/show",{userId:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.userDetail(t.data)})})]})})},t.prototype.getAccountStatuses=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){return e&&e.pinned?[2,this.client.post("/api/users/show",{userId:t}).then(function(t){return t.data.pinnedNotes?i(i({},t),{data:t.data.pinnedNotes.map(function(t){return u.default.Converter.note(t)})}):i(i({},t),{data:[]})})]:(n={userId:t},e&&(e.limit&&(n=Object.assign(n,{limit:e.limit})),e.max_id&&(n=Object.assign(n,{untilId:e.max_id})),e.since_id&&(n=Object.assign(n,{sinceId:e.since_id})),e.exclude_replies&&(n=Object.assign(n,{includeReplies:!1})),e.exclude_reblogs&&(n=Object.assign(n,{includeMyRenotes:!1})),e.only_media&&(n=Object.assign(n,{withFiles:e.only_media}))),[2,this.client.post("/api/users/notes",n).then(function(t){var e=t.data.map(function(t){return u.default.Converter.note(t)});return Object.assign(t,{data:e})})])})})},t.prototype.getAccountFavourites=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.subscribeAccount=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.unsubscribeAccount=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getAccountFollowers=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(i){return n={userId:t},e&&e.limit&&(n=Object.assign(n,{limit:e.limit})),[2,this.client.post("/api/users/followers",n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.follower(t)})})})]})})},t.prototype.getAccountFollowing=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(i){return n={userId:t},e&&e.limit&&(n=Object.assign(n,{limit:e.limit})),[2,this.client.post("/api/users/following",n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.following(t)})})})]})})},t.prototype.getAccountLists=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getIdentityProof=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.followAccount=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/following/create",{userId:t})];case 1:return e.sent(),[2,this.client.post("/api/users/relation",{userId:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.relation(t.data)})})]}})})},t.prototype.unfollowAccount=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/following/delete",{userId:t})];case 1:return e.sent(),[2,this.client.post("/api/users/relation",{userId:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.relation(t.data)})})]}})})},t.prototype.blockAccount=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/blocking/create",{userId:t})];case 1:return e.sent(),[2,this.client.post("/api/users/relation",{userId:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.relation(t.data)})})]}})})},t.prototype.unblockAccount=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/blocking/delete",{userId:t})];case 1:return e.sent(),[2,this.client.post("/api/users/relation",{userId:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.relation(t.data)})})]}})})},t.prototype.muteAccount=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/mute/create",{userId:t})];case 1:return e.sent(),[2,this.client.post("/api/users/relation",{userId:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.relation(t.data)})})]}})})},t.prototype.unmuteAccount=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/mute/delete",{userId:t})];case 1:return e.sent(),[2,this.client.post("/api/users/relation",{userId:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.relation(t.data)})})]}})})},t.prototype.pinAccount=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.unpinAccount=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getRelationship=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return[2,this.client.post("/api/users/relation",{userId:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.relation(t.data)})})]})})},t.prototype.getRelationships=function(t){return o(this,void 0,void 0,function(){var e=this;return r(this,function(n){return[2,Promise.all(t.map(function(t){return e.getRelationship(t)})).then(function(t){return i(i({},t[0]),{data:t.map(function(t){return t.data})})})]})})},t.prototype.searchAccount=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(i){return n={query:t,detail:!0},e&&(void 0!==e.resolve&&(n=Object.assign(n,{localOnly:e.resolve})),e.limit&&(n=Object.assign(n,{limit:e.limit}))),[2,this.client.post("/api/users/search",n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.userDetail(t)})})})]})})},t.prototype.getBookmarks=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getFavourites=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{untilId:t.max_id})),t.min_id&&(e=Object.assign(e,{sinceId:t.min_id}))),[2,this.client.post("/api/i/favorites",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.note(t.note)})})})]})})},t.prototype.getMutes=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{untilId:t.max_id})),t.min_id&&(e=Object.assign(e,{sinceId:t.min_id}))),[2,this.client.post("/api/mute/list",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.userDetail(t.mutee)})})})]})})},t.prototype.getBlocks=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{untilId:t.max_id})),t.min_id&&(e=Object.assign(e,{sinceId:t.min_id}))),[2,this.client.post("/api/blocking/list",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.userDetail(t.blockee)})})})]})})},t.prototype.getDomainBlocks=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.blockDomain=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.unblockDomain=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getFilters=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getFilter=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.createFilter=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.updateFilter=function(t,e,n,i){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.deleteFilter=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.report=function(t,e,n){return o(this,void 0,void 0,function(){return r(this,function(n){return[2,this.client.post("/api/users/report-abuse",{userId:t,comment:e}).then(function(n){return Object.assign(n,{data:{id:"",action_taken:"",comment:e,account_id:t,status_ids:[]}})})]})})},t.prototype.getFollowRequests=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,this.client.post("/api/following/requests/list").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.user(t.follower)})})})]})})},t.prototype.acceptFollowRequest=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/following/requests/accept",{userId:t})];case 1:return e.sent(),[2,this.client.post("/api/users/relation",{userId:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.relation(t.data)})})]}})})},t.prototype.rejectFollowRequest=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/following/requests/reject",{userId:t})];case 1:return e.sent(),[2,this.client.post("/api/users/relation",{userId:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.relation(t.data)})})]}})})},t.prototype.getEndorsements=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getFeaturedTags=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.createFeaturedTag=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.deleteFeaturedTag=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getSuggestedTags=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getPreferences=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getSuggestions=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){return e={},t&&(e=Object.assign(e,{limit:t})),[2,this.client.post("/api/users/recommendation",e).then(function(t){return i(i({},t),{data:t.data.map(function(t){return u.default.Converter.userDetail(t)})})})]})})},t.prototype.postStatus=function(t,e){return o(this,void 0,void 0,function(){var n,o;return r(this,function(r){return n={text:t},e&&(e.media_ids&&(n=Object.assign(n,{fileIds:e.media_ids})),e.poll&&(o={choices:e.poll.options,expiresAt:null,expiredAfter:e.poll.expires_in},void 0!==e.poll.multiple&&(o=Object.assign(o,{multiple:e.poll.multiple})),n=Object.assign(n,{poll:o})),e.in_reply_to_id&&(n=Object.assign(n,{replyId:e.in_reply_to_id})),e.sensitive&&(n=Object.assign(n,{cw:""})),e.spoiler_text&&(n=Object.assign(n,{cw:e.spoiler_text})),e.visibility&&(n=Object.assign(n,{visibility:u.default.Converter.encodeVisibility(e.visibility)})),e.quote_id&&(n=Object.assign(n,{renoteId:e.quote_id}))),[2,this.client.post("/api/notes/create",n).then(function(t){return i(i({},t),{data:u.default.Converter.note(t.data.createdNote)})})]})})},t.prototype.getStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return[2,this.client.post("/api/notes/show",{noteId:t}).then(function(t){return i(i({},t),{data:u.default.Converter.note(t.data)})})]})})},t.prototype.deleteStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return[2,this.client.post("/api/notes/delete",{noteId:t})]})})},t.prototype.getStatusContext=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){return n={noteId:t},e&&(e.limit&&(n=Object.assign(n,{limit:e.limit})),e.max_id&&(n=Object.assign(n,{untilId:e.max_id})),e.since_id&&(n=Object.assign(n,{sinceId:e.since_id}))),[2,this.client.post("/api/notes/children",n).then(function(t){var e={ancestors:[],descendants:t.data.map(function(t){return u.default.Converter.note(t)})};return i(i({},t),{data:e})})]})})},t.prototype.getStatusRebloggedBy=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return[2,this.client.post("/api/notes/renotes",{noteId:t}).then(function(t){return i(i({},t),{data:t.data.map(function(t){return u.default.Converter.user(t.user)})})})]})})},t.prototype.getStatusFavouritedBy=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.favouriteStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/notes/favorites/create",{noteId:t})];case 1:return e.sent(),[2,this.client.post("/api/notes/show",{noteId:t}).then(function(t){return i(i({},t),{data:u.default.Converter.note(t.data)})})]}})})},t.prototype.unfavouriteStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/notes/favorites/delete",{noteId:t})];case 1:return e.sent(),[2,this.client.post("/api/notes/show",{noteId:t}).then(function(t){return i(i({},t),{data:u.default.Converter.note(t.data)})})]}})})},t.prototype.reblogStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return[2,this.client.post("/api/notes/create",{renoteId:t}).then(function(t){return i(i({},t),{data:u.default.Converter.note(t.data.createdNote)})})]})})},t.prototype.unreblogStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/notes/unrenote",{noteId:t})];case 1:return e.sent(),[2,this.client.post("/api/notes/show",{noteId:t}).then(function(t){return i(i({},t),{data:u.default.Converter.note(t.data)})})]}})})},t.prototype.bookmarkStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.unbookmarkStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.muteStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.unmuteStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.pinStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/i/pin",{noteId:t})];case 1:return e.sent(),[2,this.client.post("/api/notes/show",{noteId:t}).then(function(t){return i(i({},t),{data:u.default.Converter.note(t.data)})})]}})})},t.prototype.unpinStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/i/unpin",{noteId:t})];case 1:return e.sent(),[2,this.client.post("/api/notes/show",{noteId:t}).then(function(t){return i(i({},t),{data:u.default.Converter.note(t.data)})})]}})})},t.prototype.uploadMedia=function(t,e){return o(this,void 0,void 0,function(){var e,n;return r(this,function(o){return(e=new a.default).append("file",t),n={},"function"==typeof e.getHeaders&&(n=e.getHeaders()),[2,this.client.post("/api/drive/files/create",e,n).then(function(t){return i(i({},t),{data:u.default.Converter.file(t.data)})})]})})},t.prototype.updateMedia=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){return n={fileId:t},e&&void 0!==e.is_sensitive&&(n=Object.assign(n,{isSensitive:e.is_sensitive})),[2,this.client.post("/api/drive/files/update",n).then(function(t){return i(i({},t),{data:u.default.Converter.file(t.data)})})]})})},t.prototype.getPoll=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.votePoll=function(t,e,n){return o(this,void 0,void 0,function(){var t,o;return r(this,function(r){switch(r.label){case 0:if(!n)return[2,new Promise(function(t,e){e(new l.ArgumentError("status_id is required"))})];return t={noteId:n,choice:e[0]},[4,this.client.post("/api/notes/polls/vote",t)];case 1:return r.sent(),[4,this.client.post("/api/notes/show",{noteId:n}).then(function(t){var e=u.default.Converter.note(t.data);return i(i({},t),{data:e.poll})})];case 2:if(!(o=r.sent()).data)return[2,new Promise(function(t,e){e(new l.UnexpectedError("poll does not exist"))})];return[2,i(i({},o),{data:o.data})]}})})},t.prototype.getScheduledStatuses=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getScheduledStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.scheduleStatus=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.cancelScheduledStatus=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getPublicTimeline=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){return e={},t&&(void 0!==t.only_media&&(e=Object.assign(e,{withFiles:t.only_media})),t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{untilId:t.max_id})),t.since_id&&(e=Object.assign(e,{sinceId:t.since_id})),t.min_id&&(e=Object.assign(e,{sinceId:t.min_id}))),[2,this.client.post("/api/notes/global-timeline",e).then(function(t){return i(i({},t),{data:t.data.map(function(t){return u.default.Converter.note(t)})})})]})})},t.prototype.getLocalTimeline=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){return e={},t&&(void 0!==t.only_media&&(e=Object.assign(e,{withFiles:t.only_media})),t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{untilId:t.max_id})),t.since_id&&(e=Object.assign(e,{sinceId:t.since_id})),t.min_id&&(e=Object.assign(e,{sinceId:t.min_id}))),[2,this.client.post("/api/notes/local-timeline",e).then(function(t){return i(i({},t),{data:t.data.map(function(t){return u.default.Converter.note(t)})})})]})})},t.prototype.getTagTimeline=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){return n={tag:t},e&&(void 0!==e.only_media&&(n=Object.assign(n,{withFiles:e.only_media})),e.limit&&(n=Object.assign(n,{limit:e.limit})),e.max_id&&(n=Object.assign(n,{untilId:e.max_id})),e.since_id&&(n=Object.assign(n,{sinceId:e.since_id})),e.min_id&&(n=Object.assign(n,{sinceId:e.min_id}))),[2,this.client.post("/api/notes/search-by-tag",n).then(function(t){return i(i({},t),{data:t.data.map(function(t){return u.default.Converter.note(t)})})})]})})},t.prototype.getHomeTimeline=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){return e={withFiles:!1},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{untilId:t.max_id})),t.since_id&&(e=Object.assign(e,{sinceId:t.since_id})),t.min_id&&(e=Object.assign(e,{sinceId:t.min_id}))),[2,this.client.post("/api/notes/timeline",e).then(function(t){return i(i({},t),{data:t.data.map(function(t){return u.default.Converter.note(t)})})})]})})},t.prototype.getListTimeline=function(t,e){return o(this,void 0,void 0,function(){var n;return r(this,function(o){return n={listId:t,withFiles:!1},e&&(e.limit&&(n=Object.assign(n,{limit:e.limit})),e.max_id&&(n=Object.assign(n,{untilId:e.max_id})),e.since_id&&(n=Object.assign(n,{sinceId:e.since_id})),e.min_id&&(n=Object.assign(n,{sinceId:e.min_id}))),[2,this.client.post("/api/notes/user-list-timeline",n).then(function(t){return i(i({},t),{data:t.data.map(function(t){return u.default.Converter.note(t)})})})]})})},t.prototype.getConversationTimeline=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){return e={visibility:"specified"},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{untilId:t.max_id})),t.since_id&&(e=Object.assign(e,{sinceId:t.since_id})),t.min_id&&(e=Object.assign(e,{sinceId:t.min_id}))),[2,this.client.post("/api/notes/mentions",e).then(function(t){return i(i({},t),{data:t.data.map(function(t){return u.default.Converter.noteToConversation(t)})})})]})})},t.prototype.deleteConversation=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.readConversation=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getLists=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,this.client.post("/api/users/lists/list").then(function(t){return i(i({},t),{data:t.data.map(function(t){return u.default.Converter.list(t)})})})]})})},t.prototype.getList=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return[2,this.client.post("/api/users/lists/show",{listId:t}).then(function(t){return i(i({},t),{data:u.default.Converter.list(t.data)})})]})})},t.prototype.createList=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return[2,this.client.post("/api/users/lists/create",{name:t}).then(function(t){return i(i({},t),{data:u.default.Converter.list(t.data)})})]})})},t.prototype.updateList=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(n){return[2,this.client.post("/api/users/lists/update",{listId:t,name:e}).then(function(t){return i(i({},t),{data:u.default.Converter.list(t.data)})})]})})},t.prototype.deleteList=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return[2,this.client.post("/api/users/lists/delete",{listId:t})]})})},t.prototype.getAccountsInList=function(t,e){return o(this,void 0,void 0,function(){var e,n,o=this;return r(this,function(r){switch(r.label){case 0:return[4,this.client.post("/api/users/lists/show",{listId:t})];case 1:return[4,Promise.all((e=r.sent()).data.userIds.map(function(t){return o.getAccount(t)}))];case 2:return n=r.sent(),[2,i(i({},e),{data:n.map(function(t){return t.data})})]}})})},t.prototype.addAccountsToList=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(n){return[2,this.client.post("/api/users/lists/push",{listId:t,userId:e[0]})]})})},t.prototype.deleteAccountsFromList=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(n){return[2,this.client.post("/api/users/lists/pull",{listId:t,userId:e[0]})]})})},t.prototype.getMarkers=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.saveMarkers=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getNotifications=function(t){return o(this,void 0,void 0,function(){var e;return r(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{untilId:t.max_id})),t.since_id&&(e=Object.assign(e,{sinceId:t.since_id})),t.min_id&&(e=Object.assign(e,{sinceId:t.min_id})),t.exclude_type&&(e=Object.assign(e,{excludeType:t.exclude_type.map(function(t){return u.default.Converter.encodeNotificationType(t)})}))),[2,this.client.post("/api/i/notifications",e).then(function(t){return i(i({},t),{data:t.data.map(function(t){return u.default.Converter.notification(t)})})})]})})},t.prototype.getNotification=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.dismissNotifications=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,this.client.post("/api/notifications/mark-all-as-read")]})})},t.prototype.dismissNotification=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.readNotifications=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("mastodon does not support"))})]})})},t.prototype.subscribePushNotification=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getPushSubscription=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.updatePushSubscription=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.deletePushSubscription=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.search=function(t,e,n){return o(this,void 0,void 0,function(){var o;return r(this,function(r){switch(e){case"accounts":return o={query:t},n&&(n.limit&&(o=Object.assign(o,{limit:n.limit})),n.offset&&(o=Object.assign(o,{offset:n.offset})),n.resolve&&(o=Object.assign(o,{localOnly:n.resolve}))),[2,this.client.post("/api/users/search",o).then(function(t){return i(i({},t),{data:{accounts:t.data.map(function(t){return u.default.Converter.userDetail(t)}),statuses:[],hashtags:[]}})})];case"statuses":return o={query:t},n&&(n.limit&&(o=Object.assign(o,{limit:n.limit})),n.offset&&(o=Object.assign(o,{offset:n.offset})),n.max_id&&(o=Object.assign(o,{untilId:n.max_id})),n.min_id&&(o=Object.assign(o,{sinceId:n.min_id})),n.account_id&&(o=Object.assign(o,{userId:n.account_id}))),[2,this.client.post("/api/notes/search",o).then(function(t){return i(i({},t),{data:{accounts:[],statuses:t.data.map(function(t){return u.default.Converter.note(t)}),hashtags:[]}})})];case"hashtags":return o={query:t},n&&(n.limit&&(o=Object.assign(o,{limit:n.limit})),n.offset&&(o=Object.assign(o,{offset:n.offset}))),[2,this.client.post("/api/hashtags/search",o).then(function(t){return i(i({},t),{data:{accounts:[],statuses:[],hashtags:t.data.map(function(t){return{name:t,url:t,history:null}})}})})]}return[2]})})},t.prototype.getInstance=function(){return o(this,void 0,void 0,function(){var t;return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/meta").then(function(t){return t.data})];case 1:return t=e.sent(),[2,this.client.post("/api/stats").then(function(e){return i(i({},e),{data:u.default.Converter.meta(t,e.data)})})]}})})},t.prototype.getInstancePeers=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getInstanceActivity=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getInstanceTrends=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,this.client.post("/api/hashtags/trend").then(function(t){return i(i({},t),{data:t.data.map(function(t){return u.default.Converter.hashtag(t)})})})]})})},t.prototype.getInstanceDirectory=function(t){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.getInstanceCustomEmojis=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,this.client.post("/api/meta").then(function(t){return i(i({},t),{data:t.data.emojis.map(function(t){return u.default.Converter.emoji(t)})})})]})})},t.prototype.createEmojiReaction=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(n){switch(n.label){case 0:return[4,this.client.post("/api/notes/reactions/create",{noteId:t,reaction:e})];case 1:return n.sent(),[2,this.client.post("/api/notes/show",{noteId:t}).then(function(t){return i(i({},t),{data:u.default.Converter.note(t.data)})})]}})})},t.prototype.deleteEmojiReaction=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(e){switch(e.label){case 0:return[4,this.client.post("/api/notes/reactions/delete",{noteId:t})];case 1:return e.sent(),[2,this.client.post("/api/notes/show",{noteId:t}).then(function(t){return i(i({},t),{data:u.default.Converter.note(t.data)})})]}})})},t.prototype.getEmojiReactions=function(t){return o(this,void 0,void 0,function(){return r(this,function(e){return[2,this.client.post("/api/notes/reactions",{noteId:t}).then(function(t){return i(i({},t),{data:u.default.Converter.reactions(t.data)})})]})})},t.prototype.getEmojiReaction=function(t,e){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(t,e){e(new l.NoImplementedError("misskey does not support"))})]})})},t.prototype.userStream=function(){throw new l.NoImplementedError("misskey does not support")},t.prototype.publicStream=function(){throw new l.NoImplementedError("misskey does not support")},t.prototype.localStream=function(){throw new l.NoImplementedError("misskey does not support")},t.prototype.tagStream=function(t){throw new l.NoImplementedError("misskey does not support")},t.prototype.listStream=function(t){throw new l.NoImplementedError("misskey does not support")},t.prototype.directStream=function(){throw new l.NoImplementedError("misskey does not support")},t.prototype.userSocket=function(){return this.client.socket("user")},t.prototype.publicSocket=function(){return this.client.socket("globalTimeline")},t.prototype.localSocket=function(){return this.client.socket("localTimeline")},t.prototype.tagSocket=function(t){throw new l.NoImplementedError("TODO: implement")},t.prototype.listSocket=function(t){return this.client.socket("list",t)},t.prototype.directSocket=function(){return this.client.socket("conversation")},t}();e.default=f},9875:function(t,e,n){"use strict";var i,o,r,s,a=n(3454),u=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{u(i.next(t))}catch(e){r(e)}}function a(t){try{u(i.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=d(n(7852)),f=d(n(738)),p=d(n(291)),h=n(1086),v=d(n(334)),m=d(n(3249)),g=d(n(5139)),_=d(n(4232));(o=(i=s||(s={})).Converter||(i.Converter={})).emoji=function(t){return{shortcode:t.name,static_url:t.url,url:t.url,visible_in_picker:!0}},o.user=function(t){var e=t.username;return t.host&&(e="".concat(t.username,"@").concat(t.host)),{id:t.id,username:t.username,acct:e,display_name:t.name,locked:!1,created_at:"",followers_count:0,following_count:0,statuses_count:0,note:"",url:e,avatar:t.avatarUrl,avatar_static:t.avatarColor,header:"",header_static:"",emojis:t.emojis.map(function(t){return o.emoji(t)}),moved:null,fields:null,bot:null}},o.userDetail=function(t){var e=t.username;return t.host&&(e="".concat(t.username,"@").concat(t.host)),{id:t.id,username:t.username,acct:e,display_name:t.name,locked:t.isLocked,created_at:t.createdAt,followers_count:t.followersCount,following_count:t.followingCount,statuses_count:t.notesCount,note:t.description,url:e,avatar:t.avatarUrl,avatar_static:t.avatarColor,header:t.bannerUrl,header_static:t.bannerColor,emojis:t.emojis.map(function(t){return o.emoji(t)}),moved:null,fields:null,bot:t.isBot}},o.visibility=function(t){switch(t){case"public":return t;case"home":return"unlisted";case"followers":return"private";case"specified":return"direct"}},o.encodeVisibility=function(t){switch(t){case"public":return t;case"unlisted":return"home";case"private":return"followers";case"direct":return"specified"}},o.fileType=function(t){return"image/gif"===t?"gifv":t.includes("image")?"image":t.includes("video")?"video":"unknown"},o.file=function(t){return{id:t.id,type:o.fileType(t.type),url:t.url,remote_url:t.url,preview_url:t.thumbnailUrl,text_url:t.url,meta:null,description:null,blurhash:null}},o.follower=function(t){return o.user(t.follower)},o.following=function(t){return o.user(t.followee)},o.relation=function(t){return{id:t.id,following:t.isFollowing,followed_by:t.isFollowed,blocking:t.isBlocking,blocked_by:t.isBlocked,muting:t.isMuted,muting_notifications:!1,requested:t.hasPendingFollowRequestFromYou,domain_blocking:!1,showing_reblogs:!0,endorsed:!1,notifying:!1}},o.choice=function(t){return{title:t.text,votes_count:t.votes}},o.poll=function(t){var e=(0,f.default)(),n=(0,f.default)(t.expiresAt),i=t.choices.reduce(function(t,e){return t+e.votes},0);return{id:"",expires_at:t.expiresAt,expired:e.isAfter(n),multiple:t.multiple,votes_count:i,options:t.choices.map(function(t){return o.choice(t)}),voted:t.choices.some(function(t){return t.isVoted})}},o.note=function(t){return{id:t.id,uri:t.uri?t.uri:"",url:t.uri?t.uri:"",account:o.user(t.user),in_reply_to_id:t.replyId,in_reply_to_account_id:null,reblog:t.renote?o.note(t.renote):null,content:t.text?t.text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#x60;").replace(/\r?\n/g,"<br>"):"",plain_content:t.text?t.text:null,created_at:t.createdAt,emojis:t.emojis.map(function(t){return o.emoji(t)}),replies_count:t.repliesCount,reblogs_count:t.renoteCount,favourites_count:0,reblogged:!1,favourited:!1,muted:!1,sensitive:!!t.files&&t.files.some(function(t){return t.isSensitive}),spoiler_text:t.cw?t.cw:"",visibility:o.visibility(t.visibility),media_attachments:t.files?t.files.map(function(t){return o.file(t)}):[],mentions:[],tags:[],card:null,poll:t.poll?o.poll(t.poll):null,application:null,language:null,pinned:null,emoji_reactions:o.mapReactions(t.reactions,t.myReaction),bookmarked:!1,quote:void 0!==t.renote&&null!==t.text}},o.mapReactions=function(t,e){return Object.keys(t).map(function(n){return e&&n===e?{count:t[n],me:!0,name:n}:{count:t[n],me:!1,name:n}})},o.reactions=function(t){var e=[];return t.map(function(t){var n=e.findIndex(function(e){return e.name===t.type});n>=0?e[n].count++:e.push({count:1,me:!1,name:t.type})}),e},o.noteToConversation=function(t){var e=[o.user(t.user)];return t.reply&&e.push(o.user(t.reply.user)),{id:t.id,accounts:e,last_status:o.note(t),unread:!1}},o.list=function(t){return{id:t.id,title:t.name}},o.encodeNotificationType=function(t){switch(t){case _.default.Follow:return g.default.Follow;case _.default.Mention:return g.default.Reply;case _.default.Favourite:case _.default.EmojiReaction:return g.default.Reaction;case _.default.Reblog:return g.default.Renote;case _.default.PollVote:return g.default.PollVote;case _.default.FollowRequest:return g.default.ReceiveFollowRequest;default:return t}},o.decodeNotificationType=function(t){switch(t){case g.default.Follow:return _.default.Follow;case g.default.Mention:case g.default.Reply:return _.default.Mention;case g.default.Renote:case g.default.Quote:return _.default.Reblog;case g.default.Reaction:return _.default.EmojiReaction;case g.default.PollVote:return _.default.PollVote;case g.default.ReceiveFollowRequest:return _.default.FollowRequest;case g.default.FollowRequestAccepted:return _.default.Follow;default:return t}},o.notification=function(t){var e={id:t.id,account:o.user(t.user),created_at:t.createdAt,type:o.decodeNotificationType(t.type)};return t.note&&(e=Object.assign(e,{status:o.note(t.note)})),t.reaction&&(e=Object.assign(e,{emoji:t.reaction})),e},o.stats=function(t){return{user_count:t.usersCount,status_count:t.notesCount,domain_count:t.instances}},o.meta=function(t,e){var n=t.uri.replace(/^https:\/\//,"wss://");return{uri:t.uri,title:t.name,description:t.description,email:t.maintainerEmail,version:t.version,thumbnail:t.bannerUrl,urls:{streaming_api:"".concat(n,"/streaming")},stats:o.stats(e),languages:t.langs,contact_account:null,max_toot_chars:t.maxNoteTextLength,registrations:!t.disableRegistration}},o.hashtag=function(t){return{name:t.tag,url:t.tag,history:null}},i.DEFAULT_SCOPE=["read:account","write:account","read:blocks","write:blocks","read:drive","write:drive","read:favorites","write:favorites","read:following","write:following","read:mutes","write:mutes","write:notes","read:notifications","write:notifications","read:reactions","write:reactions","write:votes"],r=function(){function t(t,e,n,i){void 0===n&&(n=h.DEFAULT_UA),void 0===i&&(i=!1),this.proxyConfig=!1,this.accessToken=e,this.baseUrl=t,this.userAgent=n,this.proxyConfig=i,this.abortController=new AbortController,l.default.defaults.signal=this.abortController.signal}return t.prototype.post=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),u(this,void 0,void 0,function(){var i,o;return c(this,function(r){return i={headers:n,maxContentLength:1/0,maxBodyLength:1/0},this.proxyConfig&&(i=Object.assign(i,{httpAgent:(0,v.default)(this.proxyConfig),httpsAgent:(0,v.default)(this.proxyConfig)})),o=e,this.accessToken&&(e instanceof p.default?o.append("i",this.accessToken):o=Object.assign(e,{i:this.accessToken})),[2,l.default.post(this.baseUrl+t,o,i).then(function(t){return{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}})]})})},t.prototype.cancel=function(){return this.abortController.abort()},t.prototype.socket=function(t,e){if(!this.accessToken)throw Error("accessToken is required");var n=this.baseUrl+"/streaming",i=new m.default(n,t,this.accessToken,e,this.userAgent,this.proxyConfig);return a.nextTick(function(){i.start()}),i},t}(),i.Client=r,e.default=s},5139:function(t,e){"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),(i=n||(n={})).Follow="follow",i.Mention="mention",i.Reply="reply",i.Renote="renote",i.Quote="quote",i.Reaction="reaction",i.PollVote="pollVote",i.ReceiveFollowRequest="receiveFollowRequest",i.FollowRequestAccepted="followRequestAccepted",i.GroupInvited="groupInvited",e.default=n},3249:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var s=r(n(4141)),a=r(n(738)),u=n(6383),c=n(667),d=r(n(334)),l=r(n(9875)),f=function(t){function e(e,n,i,o,r,s){void 0===s&&(s=!1);var c=t.call(this)||this;return c.proxyConfig=!1,c.listId=null,c._client=null,c._heartbeatInterval=6e4,c._pongWaiting=!1,c.url=e,c.parser=new p,c.channel=n,c.headers={"User-Agent":r},void 0===o?c.listId=null:c.listId=o,c.proxyConfig=s,c._accessToken=i,c._reconnectInterval=1e4,c._reconnectMaxAttempts=1/0,c._reconnectCurrentAttempts=0,c._connectionClosed=!1,c._channelID=(0,u.v4)(),c._pongReceivedTimestamp=(0,a.default)(),c}return o(e,t),e.prototype.start=function(){this._connectionClosed=!1,this._resetRetryParams(),this._startWebSocketConnection()},e.prototype._startWebSocketConnection=function(){this._resetConnection(),this._setupParser(),this._client=this._connect(),this._bindSocket(this._client)},e.prototype.stop=function(){this._connectionClosed=!0,this._resetConnection(),this._resetRetryParams()},e.prototype._resetConnection=function(){this._client&&(this._client.close(1e3),this._client.removeAllListeners(),this._client=null),this.parser&&this.parser.removeAllListeners()},e.prototype._resetRetryParams=function(){this._reconnectCurrentAttempts=0},e.prototype._connect=function(){var t={headers:this.headers};return this.proxyConfig&&(t=Object.assign(t,{agent:(0,d.default)(this.proxyConfig)})),new s.default("".concat(this.url,"?i=").concat(this._accessToken),t)},e.prototype._channel=function(){if(this._client)switch(this.channel){case"conversation":this._client.send(JSON.stringify({type:"connect",body:{channel:"main",id:this._channelID}}));break;case"user":this._client.send(JSON.stringify({type:"connect",body:{channel:"main",id:this._channelID}})),this._client.send(JSON.stringify({type:"connect",body:{channel:"homeTimeline",id:this._channelID}}));break;case"list":this._client.send(JSON.stringify({type:"connect",body:{channel:"userList",id:this._channelID,params:{listId:this.listId}}}));break;default:this._client.send(JSON.stringify({type:"connect",body:{channel:this.channel,id:this._channelID}}))}},e.prototype._reconnect=function(){var t=this;setTimeout(function(){(!t._client||t._client.readyState!==s.default.CONNECTING)&&t._reconnectCurrentAttempts<t._reconnectMaxAttempts&&(t._reconnectCurrentAttempts++,t._clearBinding(),t._client&&t._client.terminate(),console.log("Reconnecting"),t._client=t._connect(),t._bindSocket(t._client))},this._reconnectInterval)},e.prototype._clearBinding=function(){this._client&&(this._client.removeAllListeners("close"),this._client.removeAllListeners("pong"),this._client.removeAllListeners("open"),this._client.removeAllListeners("message"),this._client.removeAllListeners("error"))},e.prototype._bindSocket=function(t){var e=this;t.on("close",function(t,n){1e3===t?e.emit("close",{}):(console.log("Closed connection with ".concat(t)),e._connectionClosed||e._reconnect())}),t.on("pong",function(){e._pongWaiting=!1,e.emit("pong",{}),e._pongReceivedTimestamp=(0,a.default)(),setTimeout(function(){return e._checkAlive(e._pongReceivedTimestamp)},e._heartbeatInterval)}),t.on("open",function(){e.emit("connect",{}),e._channel(),setTimeout(function(){t.ping("")},1e4)}),t.on("message",function(t,n){e.parser.parse(t,n,e._channelID)}),t.on("error",function(t){e.emit("error",t)})},e.prototype._setupParser=function(){var t=this;this.parser.on("update",function(e){t.emit("update",l.default.Converter.note(e))}),this.parser.on("notification",function(e){t.emit("notification",l.default.Converter.notification(e))}),this.parser.on("conversation",function(e){t.emit("conversation",l.default.Converter.noteToConversation(e))}),this.parser.on("error",function(e){t.emit("parser-error",e)})},e.prototype._checkAlive=function(t){var e=this;(0,a.default)().diff(t)>this._heartbeatInterval-1e3&&!this._connectionClosed&&this._client&&this._client.readyState!==s.default.CONNECTING&&(this._pongWaiting=!0,this._client.ping(""),setTimeout(function(){e._pongWaiting&&(e._pongWaiting=!1,e._reconnect())},1e4))},e}(c.EventEmitter);e.default=f;var p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parse=function(t,e,n){var i,o,r=e?t:t.toString();if("string"!=typeof r||""===r){this.emit("heartbeat",{});return}try{if(i=JSON.parse(r),"channel"!==i.type||!i.body||(o=i.body).id!==n)return}catch(s){this.emit("error",Error("Error parsing websocket reply: ".concat(r,", error message: ").concat(s)));return}switch(o.type){case"note":this.emit("update",o.body);break;case"notification":this.emit("notification",o.body);break;case"mention":var a=o.body;"specified"===a.visibility&&this.emit("conversation",a);break;case"renote":case"followed":case"follow":case"unfollow":case"receiveFollowRequest":case"meUpdated":case"readAllNotifications":case"readAllUnreadSpecifiedNotes":case"readAllAntennas":case"readAllUnreadMentions":case"unreadNotification":break;default:this.emit("error",Error("Unknown event has received: ".concat(JSON.stringify(o))))}},e}(c.EventEmitter);e.Parser=p},4232:function(t,e){"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),(i=n||(n={})).Follow="follow",i.Favourite="favourite",i.Reblog="reblog",i.Mention="mention",i.EmojiReaction="emoji_reaction",i.FollowRequest="follow_request",i.Status="status",i.PollVote="poll_vote",i.PollExpired="poll_expired",e.default=n},9307:function(t,e){"use strict";var n,i,o,r;Object.defineProperty(e,"__esModule",{value:!0}),i=n||(n={}),o=function(){function t(t,e,n,i,o,r){this.id=t,this.name=e,this.website=n,this.redirect_uri=i,this.client_id=o,this.client_secret=r,this.url=null,this.session_token=null}return t.from=function(t){return new this(t.id,t.name,t.website,t.redirect_uri,t.client_id,t.client_secret)},Object.defineProperty(t.prototype,"redirectUri",{get:function(){return this.redirect_uri},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientId",{get:function(){return this.client_id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clientSecret",{get:function(){return this.client_secret},enumerable:!1,configurable:!0}),t}(),i.AppData=o,r=function(){function t(t,e,n,i,o,r){void 0===o&&(o=null),void 0===r&&(r=null),this.access_token=t,this.token_type=e,this.created_at=i,this.expires_in=o,this.refresh_token=r,this._scope=n}return t.from=function(t){return new this(t.access_token,t.token_type,t.scope,t.created_at,t.expires_in,t.refresh_token)},Object.defineProperty(t.prototype,"accessToken",{get:function(){return this.access_token},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tokenType",{get:function(){return this.token_type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scope",{get:function(){return this._scope},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createdAt",{get:function(){return this.created_at},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"expiresIn",{get:function(){return this.expires_in},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"refreshToken",{get:function(){return this.refresh_token},enumerable:!1,configurable:!0}),t}(),i.TokenData=r,e.default=n},4875:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var r=function(t){function e(){var e=t.call(this)||this;return e.message="",e}return o(e,t),e.prototype.parse=function(t){if(":thump\n"===t){this.emit("heartbeat",{});return}this.message+=t;for(var e,n,i=(t=this.message).length,o=0,r=0;r<i;){if(e=t[r],n=t[r+1],"\n"===e&&"\n"===n){var s=t.slice(o,r);if(r+=2,o=r,!s.length)continue;var a=s.split("\n");if(2!==a.length)continue;var u=a[0].substr(7),c=a[1].substr(6),d={};try{d=JSON.parse(c)}catch(l){if("delete"!==u){this.emit("error",Error("Error parsing API reply: '".concat(s,"', error message: '").concat(l,"'")));continue}}switch(u){case"update":this.emit("update",d);break;case"notification":this.emit("notification",d);break;case"conversation":this.emit("conversation",d);break;case"delete":this.emit("delete",c);break;default:this.emit("error",Error("Unknown event has received: ".concat(u)));continue}}r++}this.message=t.slice(o,i)},e}(n(667).EventEmitter);e.Parser=r},8587:function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{u(i.next(t))}catch(e){r(e)}}function a(t){try{u(i.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(1870),a=r(n(291)),u=r(n(8348)),c=n(7181),d=n(1086),l=r(n(9307)),f=function(){function t(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=d.DEFAULT_UA),void 0===i&&(i=!1);var o="";e&&(o=e);var r=d.DEFAULT_UA;n&&(r=n),this.client=new u.default.Client(t,o,r,i),this.baseUrl=t}return t.prototype.cancel=function(){return this.client.cancel()},t.prototype.registerApp=function(t,e){return i(this,void 0,void 0,function(){var n,r=this;return o(this,function(s){return n=e.scopes||d.DEFAULT_SCOPE,[2,this.createApp(t,e).then(function(t){return i(r,void 0,void 0,function(){return o(this,function(e){return[2,this.generateAuthUrl(t.client_id,t.client_secret,{scope:n,redirect_uri:t.redirect_uri}).then(function(e){return t.url=e,t})]})})})]})})},t.prototype.createApp=function(t,e){return i(this,void 0,void 0,function(){var n,i;return o(this,function(o){return n=e.scopes||d.DEFAULT_SCOPE,i={client_name:t,redirect_uris:e.redirect_uris||d.NO_REDIRECT,scopes:n.join(" ")},e.website&&(i.website=e.website),[2,this.client.post("/api/v1/apps",i).then(function(t){return l.default.AppData.from(t.data)})]})})},t.prototype.generateAuthUrl=function(t,e,n){var i=this,o=n.scope||d.DEFAULT_SCOPE,r=n.redirect_uri||d.NO_REDIRECT;return new Promise(function(n){n(new s.OAuth2(t,e,i.baseUrl,void 0,"/oauth/token").getAuthorizeUrl({redirect_uri:r,response_type:"code",client_id:t,scope:o.join(" ")}))})},t.prototype.verifyAppCredentials=function(){return this.client.get("/api/v1/apps/verify_credentials")},t.prototype.fetchAccessToken=function(t,e,n,r){return void 0===r&&(r=d.NO_REDIRECT),i(this,void 0,void 0,function(){return o(this,function(i){if(!t)throw Error("client_id is required");return[2,this.client.post("/oauth/token",{client_id:t,client_secret:e,code:n,redirect_uri:r,grant_type:"authorization_code"}).then(function(t){return l.default.TokenData.from(t.data)})]})})},t.prototype.refreshToken=function(t,e,n){return i(this,void 0,void 0,function(){return o(this,function(i){return[2,this.client.post("/oauth/token",{client_id:t,client_secret:e,refresh_token:n,grant_type:"refresh_token"}).then(function(t){return l.default.TokenData.from(t.data)})]})})},t.prototype.revokeToken=function(t,e,n){return i(this,void 0,void 0,function(){return o(this,function(i){return[2,this.client.post("/oauth/revoke",{client_id:t,client_secret:e,token:n})]})})},t.prototype.registerAccount=function(t,e,n,r,s,a){return i(this,void 0,void 0,function(){var i;return o(this,function(o){return i={username:t,email:e,password:n,agreement:r,locale:s},a&&(i=Object.assign(i,{reason:a})),[2,this.client.post("/api/v1/accounts",i).then(function(t){return Object.assign(t,{data:u.default.Converter.token(t.data)})})]})})},t.prototype.verifyAccountCredentials=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/accounts/verify_credentials").then(function(t){return Object.assign(t,{data:u.default.Converter.account(t.data)})})]})})},t.prototype.updateCredentials=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(void 0!==t.discoverable&&(e=Object.assign(e,{discoverable:t.discoverable})),void 0!==t.bot&&(e=Object.assign(e,{bot:t.bot})),t.display_name&&(e=Object.assign(e,{display_name:t.display_name})),t.note&&(e=Object.assign(e,{note:t.note})),t.avatar&&(e=Object.assign(e,{avatar:t.avatar})),t.header&&(e=Object.assign(e,{header:t.header})),void 0!==t.locked&&(e=Object.assign(e,{locked:t.locked})),t.source&&(e=Object.assign(e,{source:t.source})),t.fields_attributes&&(e=Object.assign(e,{fields_attributes:t.fields_attributes}))),[2,this.client.patch("/api/v1/accounts/update_credentials",e).then(function(t){return Object.assign(t,{data:u.default.Converter.account(t.data)})})]})})},t.prototype.getAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/accounts/".concat(t)).then(function(t){return Object.assign(t,{data:u.default.Converter.account(t.data)})})]})})},t.prototype.getAccountStatuses=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.limit&&(n=Object.assign(n,{limit:e.limit})),e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.pinned&&(n=Object.assign(n,{pinned:e.pinned})),e.exclude_replies&&(n=Object.assign(n,{exclude_replies:e.exclude_replies})),e.exclude_reblogs&&(n=Object.assign(n,{exclude_reblogs:e.exclude_reblogs})),e.only_media&&(n=Object.assign(n,{only_media:e.only_media}))),[2,this.client.get("/api/v1/accounts/".concat(t,"/statuses"),n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.status(t)})})})]})})},t.prototype.subscribeAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/pleroma/accounts/".concat(t,"/subscribe")).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.unsubscribeAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/pleroma/accounts/".concat(t,"/unsubscribe")).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.getAccountFavourites=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.limit&&(n=Object.assign(n,{limit:e.limit})),e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id}))),[2,this.client.get("/api/v1/pleroma/accounts/".concat(t,"/favourites"),n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.status(t)})})})]})})},t.prototype.getAccountFollowers=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.limit&&(n=Object.assign(n,{limit:e.limit}))),[2,this.client.get("/api/v1/accounts/".concat(t,"/followers"),n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.getAccountFollowing=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.limit&&(n=Object.assign(n,{limit:e.limit}))),[2,this.client.get("/api/v1/accounts/".concat(t,"/following"),n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.getAccountLists=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/accounts/".concat(t,"/lists")).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.list(t)})})})]})})},t.prototype.getIdentityProof=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/accounts/".concat(t,"/identity_proofs")).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.identity_proof(t)})})})]})})},t.prototype.followAccount=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&void 0!==e.reblog&&(n=Object.assign(n,{reblog:e.reblog})),[2,this.client.post("/api/v1/accounts/".concat(t,"/follow"),n).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.unfollowAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/unfollow")).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.blockAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/block")).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.unblockAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/unblock")).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.muteAccount=function(t,e){return void 0===e&&(e=!0),i(this,void 0,void 0,function(){return o(this,function(n){return[2,this.client.post("/api/v1/accounts/".concat(t,"/mute"),{notifications:e}).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.unmuteAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/unmute")).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.pinAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/pin")).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.unpinAccount=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/accounts/".concat(t,"/unpin")).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.getRelationship=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/accounts/relationships",{id:[t]}).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data[0])})})]})})},t.prototype.getRelationships=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/accounts/relationships",{id:t}).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.relationship(t)})})})]})})},t.prototype.searchAccount=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={q:t},e&&(void 0!==e.following&&null!==e.following&&(n=Object.assign(n,{following:e.following})),void 0!==e.resolve&&null!==e.resolve&&(n=Object.assign(n,{resolve:e.resolve})),e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.limit&&(n=Object.assign(n,{limit:e.limit}))),[2,this.client.get("/api/v1/accounts/search",n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.getBookmarks=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.limit&&(e=Object.assign(e,{limit:t.limit})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id}))),[2,this.client.get("/api/v1/bookmarks",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.status(t)})})})]})})},t.prototype.getFavourites=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/favourites",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.status(t)})})})]})})},t.prototype.getMutes=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/mutes",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.getBlocks=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/blocks",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.getDomainBlocks=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/domain_blocks",e)]})})},t.prototype.blockDomain=function(t){return this.client.post("/api/v1/domain_blocks",{domain:t})},t.prototype.unblockDomain=function(t){return this.client.del("/api/v1/domain_blocks",{domain:t})},t.prototype.getFilters=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/filters").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.filter(t)})})})]})})},t.prototype.getFilter=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/filters/".concat(t)).then(function(t){return Object.assign(t,{data:u.default.Converter.filter(t.data)})})]})})},t.prototype.createFilter=function(t,e,n){return i(this,void 0,void 0,function(){var i;return o(this,function(o){return i={phrase:t,context:e},n&&(void 0!==n.irreversible&&(i=Object.assign(i,{irreversible:n.irreversible})),void 0!==n.whole_word&&(i=Object.assign(i,{whole_word:n.whole_word})),n.expires_in&&(i=Object.assign(i,{expires_in:n.expires_in}))),[2,this.client.post("/api/v1/filters",i).then(function(t){return Object.assign(t,{data:u.default.Converter.filter(t.data)})})]})})},t.prototype.updateFilter=function(t,e,n,r){return i(this,void 0,void 0,function(){var i;return o(this,function(o){return i={phrase:e,context:n},r&&(void 0!==r.irreversible&&(i=Object.assign(i,{irreversible:r.irreversible})),void 0!==r.whole_word&&(i=Object.assign(i,{whole_word:r.whole_word})),r.expires_in&&(i=Object.assign(i,{expires_in:r.expires_in}))),[2,this.client.put("/api/v1/filters/".concat(t),i).then(function(t){return Object.assign(t,{data:u.default.Converter.filter(t.data)})})]})})},t.prototype.deleteFilter=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.del("/api/v1/filters/".concat(t)).then(function(t){return Object.assign(t,{data:u.default.Converter.filter(t.data)})})]})})},t.prototype.report=function(t,e,n){return i(this,void 0,void 0,function(){var i;return o(this,function(o){return i={account_id:t,comment:e},n&&(n.status_ids&&(i=Object.assign(i,{status_ids:n.status_ids})),void 0!==n.forward&&(i=Object.assign(i,{forward:n.forward}))),[2,this.client.post("/api/v1/reports",i).then(function(t){return Object.assign(t,{data:u.default.Converter.report(t.data)})})]})})},t.prototype.getFollowRequests=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return t?[2,this.client.get("/api/v1/follow_requests",{limit:t}).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]:[2,this.client.get("/api/v1/follow_requests").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.acceptFollowRequest=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/follow_requests/".concat(t,"/authorize")).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.rejectFollowRequest=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/follow_requests/".concat(t,"/reject")).then(function(t){return Object.assign(t,{data:u.default.Converter.relationship(t.data)})})]})})},t.prototype.getEndorsements=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id}))),[2,this.client.get("/api/v1/endorsements",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.getFeaturedTags=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/featured_tags").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.featured_tag(t)})})})]})})},t.prototype.createFeaturedTag=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/featured_tags",{name:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.featured_tag(t.data)})})]})})},t.prototype.deleteFeaturedTag=function(t){return this.client.del("/api/v1/featured_tags/".concat(t))},t.prototype.getSuggestedTags=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/featured_tags/suggestions").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.tag(t)})})})]})})},t.prototype.getPreferences=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/preferences").then(function(t){return Object.assign(t,{data:u.default.Converter.preferences(t.data)})})]})})},t.prototype.getSuggestions=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return t?[2,this.client.get("/api/v1/suggestions",{limit:t}).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]:[2,this.client.get("/api/v1/suggestions").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.postStatus=function(t,e){return i(this,void 0,void 0,function(){var n,i;return o(this,function(o){return n={status:t},e&&(e.media_ids&&(n=Object.assign(n,{media_ids:e.media_ids})),e.poll&&(i={options:e.poll.options,expires_in:e.poll.expires_in},void 0!==e.poll.multiple&&(i=Object.assign(i,{multiple:e.poll.multiple})),void 0!==e.poll.hide_totals&&(i=Object.assign(i,{hide_totals:e.poll.hide_totals})),n=Object.assign(n,{poll:i})),e.in_reply_to_id&&(n=Object.assign(n,{in_reply_to_id:e.in_reply_to_id})),void 0!==e.sensitive&&(n=Object.assign(n,{sensitive:e.sensitive})),e.spoiler_text&&(n=Object.assign(n,{spoiler_text:e.spoiler_text})),e.visibility&&(n=Object.assign(n,{visibility:e.visibility})),e.scheduled_at&&(n=Object.assign(n,{scheduled_at:e.scheduled_at})),e.language&&(n=Object.assign(n,{language:e.language}))),[2,this.client.post("/api/v1/statuses",n).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.getStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/statuses/".concat(t)).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.deleteStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.del("/api/v1/statuses/".concat(t)).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.getStatusContext=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.limit&&(n=Object.assign(n,{limit:e.limit})),e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id}))),[2,this.client.get("/api/v1/statuses/".concat(t,"/context"),n).then(function(t){return Object.assign(t,{data:u.default.Converter.context(t.data)})})]})})},t.prototype.getStatusRebloggedBy=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/statuses/".concat(t,"/reblogged_by")).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.getStatusFavouritedBy=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/statuses/".concat(t,"/favourited_by")).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.favouriteStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/favourite")).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.unfavouriteStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/unfavourite")).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.reblogStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/reblog")).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.unreblogStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/unreblog")).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.bookmarkStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/bookmark")).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.unbookmarkStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/unbookmark")).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.muteStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/mute")).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.unmuteStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/unmute")).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.pinStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/pin")).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.unpinStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/statuses/".concat(t,"/unpin")).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.uploadMedia=function(t,e){return i(this,void 0,void 0,function(){var n,i;return o(this,function(o){return(n=new a.default).append("file",t),e&&(e.description&&n.append("description",e.description),e.focus&&n.append("focus",e.focus)),i={},"function"==typeof n.getHeaders&&(i=n.getHeaders()),[2,this.client.post("/api/v1/media",n,i).then(function(t){return Object.assign(t,{data:u.default.Converter.attachment(t.data)})})]})})},t.prototype.updateMedia=function(t,e){return i(this,void 0,void 0,function(){var n,i;return o(this,function(o){return n=new a.default,e&&(e.file&&n.append("file",e.file),e.description&&n.append("description",e.description),e.focus&&n.append("focus",e.focus)),i={},"function"==typeof n.getHeaders&&(i=n.getHeaders()),[2,this.client.put("/api/v1/media/".concat(t),n,i).then(function(t){return Object.assign(t,{data:u.default.Converter.attachment(t.data)})})]})})},t.prototype.getPoll=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/polls/".concat(t)).then(function(t){return Object.assign(t,{data:u.default.Converter.poll(t.data)})})]})})},t.prototype.votePoll=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){return[2,this.client.post("/api/v1/polls/".concat(t,"/votes"),{choices:e}).then(function(t){return Object.assign(t,{data:u.default.Converter.poll(t.data)})})]})})},t.prototype.getScheduledStatuses=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id}))),[2,this.client.get("/api/v1/scheduled_statuses",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.scheduled_status(t)})})})]})})},t.prototype.getScheduledStatus=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/scheduled_statuses/".concat(t)).then(function(t){return Object.assign(t,{data:u.default.Converter.scheduled_status(t.data)})})]})})},t.prototype.scheduleStatus=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(n=Object.assign(n,{scheduled_at:e})),[2,this.client.put("/api/v1/scheduled_statuses/".concat(t),n).then(function(t){return Object.assign(t,{data:u.default.Converter.scheduled_status(t.data)})})]})})},t.prototype.cancelScheduledStatus=function(t){return this.client.del("/api/v1/scheduled_statuses/".concat(t))},t.prototype.getPublicTimeline=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={local:!1},t&&(void 0!==t.only_media&&(e=Object.assign(e,{only_media:t.only_media})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/timelines/public",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.status(t)})})})]})})},t.prototype.getLocalTimeline=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={local:!0},t&&(void 0!==t.only_media&&(e=Object.assign(e,{only_media:t.only_media})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/timelines/public",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.status(t)})})})]})})},t.prototype.getTagTimeline=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(void 0!==e.local&&(n=Object.assign(n,{local:e.local})),void 0!==e.only_media&&(n=Object.assign(n,{only_media:e.only_media})),e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.min_id&&(n=Object.assign(n,{min_id:e.min_id})),e.limit&&(n=Object.assign(n,{limit:e.limit}))),[2,this.client.get("/api/v1/timelines/tag/".concat(t),n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.status(t)})})})]})})},t.prototype.getHomeTimeline=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(void 0!==t.local&&(e=Object.assign(e,{local:t.local})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/timelines/home",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.status(t)})})})]})})},t.prototype.getListTimeline=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id})),e.min_id&&(n=Object.assign(n,{min_id:e.min_id})),e.limit&&(n=Object.assign(n,{limit:e.limit}))),[2,this.client.get("/api/v1/timelines/list/".concat(t),n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.status(t)})})})]})})},t.prototype.getConversationTimeline=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.limit&&(e=Object.assign(e,{limit:t.limit}))),[2,this.client.get("/api/v1/conversations",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.conversation(t)})})})]})})},t.prototype.deleteConversation=function(t){return this.client.del("/api/v1/conversations/".concat(t))},t.prototype.readConversation=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/conversations/".concat(t,"/read")).then(function(t){return Object.assign(t,{data:u.default.Converter.conversation(t.data)})})]})})},t.prototype.getLists=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/lists").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.list(t)})})})]})})},t.prototype.getList=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/lists/".concat(t)).then(function(t){return Object.assign(t,{data:u.default.Converter.list(t.data)})})]})})},t.prototype.createList=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.post("/api/v1/lists",{title:t}).then(function(t){return Object.assign(t,{data:u.default.Converter.list(t.data)})})]})})},t.prototype.updateList=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){return[2,this.client.put("/api/v1/lists/".concat(t),{title:e}).then(function(t){return Object.assign(t,{data:u.default.Converter.list(t.data)})})]})})},t.prototype.deleteList=function(t){return this.client.del("/api/v1/lists/".concat(t))},t.prototype.getAccountsInList=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={},e&&(e.limit&&(n=Object.assign(n,{limit:e.limit})),e.max_id&&(n=Object.assign(n,{max_id:e.max_id})),e.since_id&&(n=Object.assign(n,{since_id:e.since_id}))),[2,this.client.get("/api/v1/lists/".concat(t,"/accounts"),n).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.addAccountsToList=function(t,e){return this.client.post("/api/v1/lists/".concat(t,"/accounts"),{account_ids:e})},t.prototype.deleteAccountsFromList=function(t,e){return this.client.del("/api/v1/lists/".concat(t,"/accounts"),{account_ids:e})},t.prototype.getMarkers=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/markers",{timeline:t})]})})},t.prototype.saveMarkers=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.home&&(e=Object.assign(e,{home:t.home})),t.notifications&&(e=Object.assign(e,{notifications:t.notifications}))),[2,this.client.post("/api/v1/markers",e).then(function(t){return Object.assign(t,{data:u.default.Converter.marker(t.data)})})]})})},t.prototype.getNotifications=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.max_id&&(e=Object.assign(e,{max_id:t.max_id})),t.since_id&&(e=Object.assign(e,{since_id:t.since_id})),t.min_id&&(e=Object.assign(e,{min_id:t.min_id})),t.exclude_types&&(e=Object.assign(e,{exclude_types:t.exclude_types.map(function(t){return u.default.Converter.encodeNotificationType(t)})})),t.account_id&&(e=Object.assign(e,{account_id:t.account_id}))),[2,this.client.get("/api/v1/notifications",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.notification(t)})})})]})})},t.prototype.getNotification=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/notifications/".concat(t)).then(function(t){return Object.assign(t,{data:u.default.Converter.notification(t.data)})})]})})},t.prototype.dismissNotifications=function(){return this.client.post("/api/v1/notifications/clear")},t.prototype.dismissNotification=function(t){return this.client.post("/api/v1/notifications/".concat(t,"/dismiss"))},t.prototype.readNotifications=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return t.id?[2,this.client.post("/api/v1/pleroma/notifications/read",{id:t.id}).then(function(t){return Object.assign(t,{data:u.default.Converter.notification(t.data)})})]:t.max_id?[2,this.client.post("/api/v1/pleroma/notifications/read",{max_id:t.max_id}).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.notification(t)})})})]:[2,new Promise(function(t,e){e(new c.ArgumentError("id or max_id is required"))})]})})},t.prototype.subscribePushNotification=function(t,e){return i(this,void 0,void 0,function(){var n;return o(this,function(i){return n={subscription:t},e&&(n=Object.assign(n,{data:e})),[2,this.client.post("/api/v1/push/subscription",n).then(function(t){return Object.assign(t,{data:u.default.Converter.push_subscription(t.data)})})]})})},t.prototype.getPushSubscription=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/push/subscription").then(function(t){return Object.assign(t,{data:u.default.Converter.push_subscription(t.data)})})]})})},t.prototype.updatePushSubscription=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(e=Object.assign(e,{data:t})),[2,this.client.put("/api/v1/push/subscription",e).then(function(t){return Object.assign(t,{data:u.default.Converter.push_subscription(t.data)})})]})})},t.prototype.deletePushSubscription=function(){return this.client.del("/api/v1/push/subscription")},t.prototype.search=function(t,e,n){return i(this,void 0,void 0,function(){var i;return o(this,function(o){return i={q:t,type:e},n&&(n.limit&&(i=Object.assign(i,{limit:n.limit})),n.max_id&&(i=Object.assign(i,{max_id:n.max_id})),n.min_id&&(i=Object.assign(i,{min_id:n.min_id})),void 0!==n.resolve&&(i=Object.assign(i,{resolve:n.resolve})),n.offset&&(i=Object.assign(i,{offset:n.offset})),void 0!==n.following&&(i=Object.assign(i,{following:n.following})),n.account_id&&(i=Object.assign(i,{account_id:n.account_id})),n.exclude_unreviewed&&(i=Object.assign(i,{exclude_unreviewed:n.exclude_unreviewed}))),[2,this.client.get("/api/v2/search",i).then(function(t){return Object.assign(t,{data:u.default.Converter.results(t.data)})})]})})},t.prototype.getInstance=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/instance").then(function(t){return Object.assign(t,{data:u.default.Converter.instance(t.data)})})]})})},t.prototype.getInstancePeers=function(){return this.client.get("/api/v1/instance/peers")},t.prototype.getInstanceActivity=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/instance/activity").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.activity(t)})})})]})})},t.prototype.getInstanceTrends=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(e=Object.assign(e,{limit:t})),[2,this.client.get("/api/v1/trends",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.tag(t)})})})]})})},t.prototype.getInstanceDirectory=function(t){return i(this,void 0,void 0,function(){var e;return o(this,function(n){return e={},t&&(t.limit&&(e=Object.assign(e,{limit:t.limit})),t.offset&&(e=Object.assign(e,{offset:t.offset})),t.order&&(e=Object.assign(e,{order:t.order})),void 0!==t.local&&(e=Object.assign(e,{local:t.local}))),[2,this.client.get("/api/v1/directory",e).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.account(t)})})})]})})},t.prototype.getInstanceCustomEmojis=function(){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,this.client.get("/api/v1/custom_emojis").then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.emoji(t)})})})]})})},t.prototype.createEmojiReaction=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){return[2,this.client.put("/api/v1/pleroma/statuses/".concat(t,"/reactions/").concat(encodeURI(e))).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.deleteEmojiReaction=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){return[2,this.client.del("/api/v1/pleroma/statuses/".concat(t,"/reactions/").concat(encodeURI(e))).then(function(t){return Object.assign(t,{data:u.default.Converter.status(t.data)})})]})})},t.prototype.getEmojiReactions=function(t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,this.client.get("/api/v1/pleroma/statuses/".concat(t,"/reactions")).then(function(t){return Object.assign(t,{data:t.data.map(function(t){return u.default.Converter.reaction(t)})})})]})})},t.prototype.getEmojiReaction=function(t,e){return i(this,void 0,void 0,function(){return o(this,function(n){return[2,this.client.get("/api/v1/pleroma/statuses/".concat(t,"/reactions/").concat(encodeURI(e))).then(function(t){return Object.assign(t,{data:u.default.Converter.reaction(t.data)})})]})})},t.prototype.userStream=function(){throw new c.NoImplementedError("pleroma does not support")},t.prototype.publicStream=function(){throw new c.NoImplementedError("pleroma does not support")},t.prototype.localStream=function(){throw new c.NoImplementedError("pleroma does not support")},t.prototype.tagStream=function(t){throw new c.NoImplementedError("pleroma does not support")},t.prototype.listStream=function(t){throw new c.NoImplementedError("pleroma does not support")},t.prototype.directStream=function(){throw new c.NoImplementedError("pleroma does not support")},t.prototype.userSocket=function(){return this.client.socket("/api/v1/streaming","user")},t.prototype.publicSocket=function(){return this.client.socket("/api/v1/streaming","public")},t.prototype.localSocket=function(){return this.client.socket("/api/v1/streaming","public:local")},t.prototype.tagSocket=function(t){return this.client.socket("/api/v1/streaming","hashtag","tag=".concat(t))},t.prototype.listSocket=function(t){return this.client.socket("/api/v1/streaming","list","list=".concat(t))},t.prototype.directSocket=function(){return this.client.socket("/api/v1/streaming","direct")},t}();e.default=f},8348:function(t,e,n){"use strict";var i,o,r,s,a=n(3454),u=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{u(i.next(t))}catch(e){r(e)}}function a(t){try{u(i.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},d=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var l=d(n(7852)),f=d(n(5196)),p=n(9046),h=d(n(334)),v=n(1086),m=d(n(1722)),g=d(n(4232)),_=d(n(7917));(o=(i=s||(s={})).Converter||(i.Converter={})).decodeNotificationType=function(t){switch(t){case _.default.Mention:return g.default.Mention;case _.default.Reblog:return g.default.Reblog;case _.default.Favourite:return g.default.Favourite;case _.default.Follow:return g.default.Follow;case _.default.Poll:return g.default.PollExpired;case _.default.PleromaEmojiReaction:return g.default.EmojiReaction;case _.default.FollowRequest:return g.default.FollowRequest;default:return t}},o.encodeNotificationType=function(t){switch(t){case g.default.Follow:return _.default.Follow;case g.default.Favourite:return _.default.Favourite;case g.default.Reblog:return _.default.Reblog;case g.default.Mention:return _.default.Mention;case g.default.PollExpired:return _.default.Poll;case g.default.EmojiReaction:return _.default.PleromaEmojiReaction;case g.default.FollowRequest:return _.default.FollowRequest;default:return t}},o.account=function(t){return t},o.activity=function(t){return t},o.application=function(t){return t},o.attachment=function(t){return t},o.card=function(t){return t},o.context=function(t){return{ancestors:t.ancestors.map(function(t){return o.status(t)}),descendants:t.descendants.map(function(t){return o.status(t)})}},o.conversation=function(t){return{id:t.id,accounts:t.accounts.map(function(t){return o.account(t)}),last_status:t.last_status?o.status(t.last_status):null,unread:t.unread}},o.emoji=function(t){return t},o.featured_tag=function(t){return t},o.field=function(t){return t},o.filter=function(t){return t},o.history=function(t){return t},o.identity_proof=function(t){return t},o.instance=function(t){return t},o.list=function(t){return t},o.marker=function(t){return t},o.mention=function(t){return t},o.notification=function(t){return t.status&&t.emoji?{id:t.id,account:t.account,created_at:t.created_at,status:o.status(t.status),emoji:t.emoji,type:o.decodeNotificationType(t.type)}:t.status?{id:t.id,account:t.account,created_at:t.created_at,status:o.status(t.status),type:o.decodeNotificationType(t.type)}:{id:t.id,account:t.account,created_at:t.created_at,type:o.decodeNotificationType(t.type)}},o.poll=function(t){return t},o.pollOption=function(t){return t},o.preferences=function(t){return t},o.push_subscription=function(t){return t},o.reaction=function(t){return t},o.relationship=function(t){return{id:t.id,following:t.following,followed_by:t.followed_by,blocking:t.blocking,blocked_by:t.blocked_by,muting:t.muting,muting_notifications:t.muting_notifications,requested:t.requested,domain_blocking:t.domain_blocking,showing_reblogs:t.showing_reblogs,endorsed:t.endorsed,notifying:t.subscribing}},o.report=function(t){return t},o.results=function(t){return{accounts:t.accounts.map(function(t){return o.account(t)}),statuses:t.statuses.map(function(t){return o.status(t)}),hashtags:t.hashtags.map(function(t){return o.tag(t)})}},o.scheduled_status=function(t){return{id:t.id,scheduled_at:t.scheduled_at,params:t.params,media_attachments:t.media_attachments.map(function(t){return o.attachment(t)})}},o.source=function(t){return t},o.stats=function(t){return t},o.status=function(t){var e;return{id:t.id,uri:t.uri,url:t.url,account:o.account(t.account),in_reply_to_id:t.in_reply_to_id,in_reply_to_account_id:t.in_reply_to_account_id,reblog:t.reblog?o.status(t.reblog):null,content:t.content,plain_content:(null===(e=t.pleroma.content)||void 0===e?void 0:e["text/plain"])?t.pleroma.content["text/plain"]:null,created_at:t.created_at,emojis:t.emojis.map(function(t){return o.emoji(t)}),replies_count:t.replies_count,reblogs_count:t.reblogs_count,favourites_count:t.favourites_count,reblogged:t.reblogged,favourited:t.favourited,muted:t.muted,sensitive:t.sensitive,spoiler_text:t.spoiler_text,visibility:t.visibility,media_attachments:t.media_attachments.map(function(t){return o.attachment(t)}),mentions:t.mentions.map(function(t){return o.mention(t)}),tags:t.tags.map(function(t){return o.tag(t)}),card:t.card?o.card(t.card):null,poll:t.poll?o.poll(t.poll):null,application:t.application?o.application(t.application):null,language:t.language,pinned:t.pinned,emoji_reactions:t.pleroma.emoji_reactions?t.pleroma.emoji_reactions.map(function(t){return o.reaction(t)}):[],bookmarked:!!t.bookmarked&&t.bookmarked,quote:null!==t.reblog&&t.reblog.content!==t.content}},o.status_params=function(t){return t},o.tag=function(t){return t},o.token=function(t){return t},o.urls=function(t){return t},r=function(){function t(t,e,n,i){void 0===e&&(e=null),void 0===n&&(n=v.DEFAULT_UA),void 0===i&&(i=!1),this.proxyConfig=!1,this.accessToken=e,this.baseUrl=t,this.userAgent=n,this.proxyConfig=i,this.abortController=new AbortController,l.default.defaults.signal=this.abortController.signal}return t.prototype.get=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),u(this,void 0,void 0,function(){var i;return c(this,function(o){return i={params:e,headers:n},this.accessToken&&(i=(0,f.default)({},i,{headers:{Authorization:"Bearer ".concat(this.accessToken)}})),this.proxyConfig&&(i=Object.assign(i,{httpAgent:(0,h.default)(this.proxyConfig),httpsAgent:(0,h.default)(this.proxyConfig)})),[2,l.default.get(this.baseUrl+t,i).catch(function(t){if(l.default.isCancel(t))throw new p.RequestCanceledError(t.message);throw t}).then(function(t){return{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}})]})})},t.prototype.put=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),u(this,void 0,void 0,function(){var i;return c(this,function(o){return i={headers:n,maxContentLength:1/0,maxBodyLength:1/0},this.accessToken&&(i=(0,f.default)({},i,{headers:{Authorization:"Bearer ".concat(this.accessToken)}})),this.proxyConfig&&(i=Object.assign(i,{httpAgent:(0,h.default)(this.proxyConfig),httpsAgent:(0,h.default)(this.proxyConfig)})),[2,l.default.put(this.baseUrl+t,e,i).catch(function(t){if(l.default.isCancel(t))throw new p.RequestCanceledError(t.message);throw t}).then(function(t){return{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}})]})})},t.prototype.patch=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),u(this,void 0,void 0,function(){var i;return c(this,function(o){return i={headers:n,maxContentLength:1/0,maxBodyLength:1/0},this.accessToken&&(i=(0,f.default)({},i,{headers:{Authorization:"Bearer ".concat(this.accessToken)}})),this.proxyConfig&&(i=Object.assign(i,{httpAgent:(0,h.default)(this.proxyConfig),httpsAgent:(0,h.default)(this.proxyConfig)})),[2,l.default.patch(this.baseUrl+t,e,i).catch(function(t){if(l.default.isCancel(t))throw new p.RequestCanceledError(t.message);throw t}).then(function(t){return{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}})]})})},t.prototype.post=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),u(this,void 0,void 0,function(){var i;return c(this,function(o){return i={headers:n,maxContentLength:1/0,maxBodyLength:1/0},this.accessToken&&(i=(0,f.default)({},i,{headers:{Authorization:"Bearer ".concat(this.accessToken)}})),this.proxyConfig&&(i=Object.assign(i,{httpAgent:(0,h.default)(this.proxyConfig),httpsAgent:(0,h.default)(this.proxyConfig)})),[2,l.default.post(this.baseUrl+t,e,i).then(function(t){return{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}})]})})},t.prototype.del=function(t,e,n){return void 0===e&&(e={}),void 0===n&&(n={}),u(this,void 0,void 0,function(){var i;return c(this,function(o){return i={data:e,headers:n,maxContentLength:1/0,maxBodyLength:1/0},this.accessToken&&(i=(0,f.default)({},i,{headers:{Authorization:"Bearer ".concat(this.accessToken)}})),this.proxyConfig&&(i=Object.assign(i,{httpAgent:(0,h.default)(this.proxyConfig),httpsAgent:(0,h.default)(this.proxyConfig)})),[2,l.default.delete(this.baseUrl+t,i).catch(function(t){if(l.default.isCancel(t))throw new p.RequestCanceledError(t.message);throw t}).then(function(t){return{data:t.data,status:t.status,statusText:t.statusText,headers:t.headers}})]})})},t.prototype.cancel=function(){return this.abortController.abort()},t.prototype.socket=function(t,e,n){if(!this.accessToken)throw Error("accessToken is required");var i=this.baseUrl+t,o=new m.default(i,e,n,this.accessToken,this.userAgent,this.proxyConfig);return a.nextTick(function(){o.start()}),o},t.DEFAULT_SCOPE=v.DEFAULT_SCOPE,t.DEFAULT_URL="https://pleroma.io",t.NO_REDIRECT=v.NO_REDIRECT,t}(),i.Client=r,e.default=s},7917:function(t,e){"use strict";var n,i;Object.defineProperty(e,"__esModule",{value:!0}),(i=n||(n={})).Mention="mention",i.Reblog="reblog",i.Favourite="favourite",i.Follow="follow",i.Poll="poll",i.PleromaEmojiReaction="pleroma:emoji_reaction",i.FollowRequest="follow_request",e.default=n},1722:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Parser=void 0;var s=r(n(4141)),a=r(n(738)),u=n(667),c=r(n(334)),d=r(n(8348)),l=function(t){function e(e,n,i,o,r,s){void 0===s&&(s=!1);var u=t.call(this)||this;return u.proxyConfig=!1,u._heartbeatInterval=6e4,u._pongWaiting=!1,u.url=e,u.stream=n,void 0===i?u.params=null:u.params=i,u.parser=new f,u.headers={"User-Agent":r},u.proxyConfig=s,u._accessToken=o,u._reconnectInterval=1e4,u._reconnectMaxAttempts=1/0,u._reconnectCurrentAttempts=0,u._connectionClosed=!1,u._client=null,u._pongReceivedTimestamp=(0,a.default)(),u}return o(e,t),e.prototype.start=function(){this._connectionClosed=!1,this._resetRetryParams(),this._startWebSocketConnection()},e.prototype._startWebSocketConnection=function(){this._resetConnection(),this._setupParser(),this._client=this._connect(this.url,this.stream,this.params,this._accessToken,this.headers,this.proxyConfig),this._bindSocket(this._client)},e.prototype.stop=function(){this._connectionClosed=!0,this._resetConnection(),this._resetRetryParams()},e.prototype._resetConnection=function(){this._client&&(this._client.close(1e3),this._client.removeAllListeners(),this._client=null),this.parser&&this.parser.removeAllListeners()},e.prototype._resetRetryParams=function(){this._reconnectCurrentAttempts=0},e.prototype._reconnect=function(){var t=this;setTimeout(function(){(!t._client||t._client.readyState!==s.default.CONNECTING)&&t._reconnectCurrentAttempts<t._reconnectMaxAttempts&&(t._reconnectCurrentAttempts++,t._clearBinding(),t._client&&t._client.terminate(),console.log("Reconnecting"),t._client=t._connect(t.url,t.stream,t.params,t._accessToken,t.headers,t.proxyConfig),t._bindSocket(t._client))},this._reconnectInterval)},e.prototype._connect=function(t,e,n,i,o,r){var a=["stream=".concat(e)];n&&a.push(n),null!==i&&a.push("access_token=".concat(i));var u="".concat(t,"/?").concat(a.join("&")),d={headers:o};return r&&(d=Object.assign(d,{agent:(0,c.default)(r)})),new s.default(u,d)},e.prototype._clearBinding=function(){this._client&&(this._client.removeAllListeners("close"),this._client.removeAllListeners("pong"),this._client.removeAllListeners("open"),this._client.removeAllListeners("message"),this._client.removeAllListeners("error"))},e.prototype._bindSocket=function(t){var e=this;t.on("close",function(t,n){1e3===t?e.emit("close",{}):(console.log("Closed connection with ".concat(t)),e._connectionClosed||e._reconnect())}),t.on("pong",function(){e._pongWaiting=!1,e.emit("pong",{}),e._pongReceivedTimestamp=(0,a.default)(),setTimeout(function(){return e._checkAlive(e._pongReceivedTimestamp)},e._heartbeatInterval)}),t.on("open",function(){e.emit("connect",{}),setTimeout(function(){t.ping("")},1e4)}),t.on("message",function(t,n){e.parser.parse(t,n)}),t.on("error",function(t){e.emit("error",t)})},e.prototype._setupParser=function(){var t=this;this.parser.on("update",function(e){t.emit("update",d.default.Converter.status(e))}),this.parser.on("notification",function(e){t.emit("notification",d.default.Converter.notification(e))}),this.parser.on("delete",function(e){t.emit("delete",e)}),this.parser.on("conversation",function(e){t.emit("conversation",d.default.Converter.conversation(e))}),this.parser.on("error",function(e){t.emit("parser-error",e)}),this.parser.on("heartbeat",function(e){t.emit("heartbeat","heartbeat")})},e.prototype._checkAlive=function(t){var e=this;(0,a.default)().diff(t)>this._heartbeatInterval-1e3&&!this._connectionClosed&&this._client&&this._client.readyState!==s.default.CONNECTING&&(this._pongWaiting=!0,this._client.ping(""),setTimeout(function(){e._pongWaiting&&(e._pongWaiting=!1,e._reconnect())},1e4))},e}(u.EventEmitter);e.default=l;var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parse=function(t,e){var n=e?t:t.toString();if("string"!=typeof n||""===n){this.emit("heartbeat",{});return}var i="",o="",r={};try{var s=JSON.parse(n);i=s.event,o=s.payload,r=JSON.parse(o)}catch(a){if("delete"!==i){this.emit("error",Error("Error parsing websocket reply: ".concat(n,", error message: ").concat(a)));return}}switch(i){case"update":this.emit("update",r);break;case"notification":this.emit("notification",r);break;case"conversation":this.emit("conversation",r);break;case"delete":this.emit("delete",o);break;default:this.emit("error",Error("Unknown event has received: ".concat(n)))}},e}(u.EventEmitter);e.Parser=f},334:function(t,e,n){"use strict";var i,o=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var r=n(5838),s=n(3234),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(Error),u=function(t){switch(t.protocol){case"http":var e={host:t.host,port:t.port,secureProxy:!1};t.auth&&(e=Object.assign(e,{auth:"".concat(t.auth.username,":").concat(t.auth.password)}));var n=new r.HttpsProxyAgent(e);return n;case"https":var e={host:t.host,port:t.port,secureProxy:!0};t.auth&&(e=Object.assign(e,{auth:"".concat(t.auth.username,":").concat(t.auth.password)}));var n=new r.HttpsProxyAgent(e);return n;case"socks4":case"socks4a":var e={type:4,host:t.host,port:t.port};t.auth&&(e=Object.assign(e,{userId:t.auth.username,password:t.auth.password}));var i=new s.SocksProxyAgent(e);return i;case"socks5":case"socks5h":case"socks":var e={type:5,host:t.host,port:t.port};t.auth&&(e=Object.assign(e,{userId:t.auth.username,password:t.auth.password}));var i=new s.SocksProxyAgent(e);return i;default:throw new a("protocol is not accepted")}};e.default=u},8312:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6903)}])},6903:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return G}});var i=n(5893),o=n(9008),r=n.n(o),s=n(2920),a=n(9549),u=n.n(a),c=n(7294),d=n(1664),l=n.n(d),f=n(5609),p=n.n(f);function h(t){let{myAccount:e,follows:n,authorId:o,setAuthor:r}=t;return(0,i.jsx)("div",{className:p()["follows-list"],children:(0,i.jsx)("ol",{start:n.length+1,reversed:!0,children:[e].concat(n).map(t=>(0,i.jsxs)("li",{className:t.id===o?p()["selected-author"]:"",children:["@",t.acct," ",t.display_name," ",t.id!==o&&(0,i.jsx)("button",{onClick:()=>r(t),children:"Select"})]},t.id))})})}let v=Intl.DateTimeFormat(void 0,{dateStyle:"short",timeStyle:"short",hourCycle:"h23"});function m(t){return v.format(new Date(t))}function g(t,e,n){return t.reblog?g(t.reblog,e,t):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:p()["toot-topbar"],children:[(0,i.jsx)("div",{className:p()["avatar-image"],children:(0,i.jsx)("a",{title:"Go to original",href:t.url,target:"_blank",rel:"noreferrer",children:(0,i.jsx)("img",{alt:t.account.username,src:t.account.avatar_static})})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("a",{title:"Go to original",href:t.url,target:"_blank",rel:"noreferrer",className:p()["toot-author"],children:t.account.username}),(0,i.jsx)("br",{}),(0,i.jsxs)("small",{children:[m(t.created_at),e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),e]}),n&&(0,i.jsxs)("span",{title:"Boosted on ".concat(m(n.created_at)),children:[" ","♻️"]})]})]})]}),(0,i.jsx)("div",{className:p()["dangerous-content"],dangerouslySetInnerHTML:{__html:t.content}}),t.media_attachments.length?(0,i.jsx)("div",{className:p()["attachments-list"],children:t.media_attachments.map(t=>(0,i.jsx)(y,{attachment:t},t.id))}):""]})}function _(t,e){return t.sort((t,n)=>t.account.id===n.account.id?t.created_at.localeCompare(n.created_at):t.account.id===e?-1:n.account.id===e?1:t.created_at.localeCompare(n.created_at))}function b(t){var e;let{progenitorId:n,trees:o,authorId:r,depth:s,siblingIdx:a,sectionNumbers:u}=t,d=P(o.id2status,n),l=[],f=t=>{let e=o.origIdToBoostId.get(t.id);return e?o.id2status.get(e):void 0},h=d;for(;h;){let v=Array.from(o.parent2childid.get(h.id)||[]).map(t=>P(o.id2status,t)),m=_(v.filter(t=>!0!==o.foldedIds.get(t.id)),r),y=v.length-m.length,j=y?"".concat(y," hidden ").concat(1===y?"reply":"replies"):"";m.length<=1?(l.push((0,i.jsx)("div",{className:p().toot,id:h.id,children:g(h,j,f(h))},h.id)),h=m[0]):(l.push((0,i.jsxs)(c.Fragment,{children:[(0,i.jsx)("div",{className:p().toot,id:h.id,children:g(h,j,f(h))},h.id),m.map((t,e)=>(0,i.jsx)(b,{progenitorId:t.id,trees:o,authorId:r,depth:s+1,siblingIdx:e+1,sectionNumbers:u.concat(e+1)},t.id+"/"+s))]},h.id)),h=void 0)}let O=o.parent2childid.get(null!==(e=o.child2parentid.get(d.id))&&void 0!==e?e:""),w=O?O.size:0,C=P(o.id2numDescendants,d.id);if(1===s)return(0,i.jsx)("div",{className:p().thread,children:l});let x=_(Array.from(O||[]).map(t=>P(o.id2status,t)),r),k=a&&a>1?(0,i.jsx)("a",{href:"#collapsible-".concat(x[a-1-1]),title:"Previous sub-thread",children:"\uD83D\uDC48"}):"",I=a&&a<w?(0,i.jsx)("a",{href:"#collapsible-".concat(x[a+1-1]),title:"Next sub-thread",children:"\uD83D\uDC49"}):"";return(0,i.jsxs)("details",{open:!0,className:p().thread,id:"collapsible-"+d.id,children:[(0,i.jsxs)("summary",{children:["\xa7",u.join("."),", reply #",null!=a?a:0," of ",w," (",C.shown+1," toot",C.shown?"s":"",")"," ",(0,i.jsx)("a",{href:"#".concat(d.in_reply_to_id),title:"Jump to parent of sub-thread",children:"\uD83D\uDC46"})," ",k," ",I]}),l]})}function y(t){let{attachment:e}=t;return(0,i.jsx)("div",{className:p()["media-container"],title:e.description||void 0,children:(0,i.jsxs)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:[("video"===e.type||"gifv"===e.type)&&(0,i.jsx)("div",{className:p()["media-item-video-overlay"],children:(0,i.jsx)(j,{})}),(0,i.jsx)("img",{src:e.preview_url,alt:e.description||void 0,className:p()["media-item"],style:{aspectRatio:e.meta?e.meta.aspect:void 0}})]})})}function j(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:(0,i.jsx)("path",{strokeWidth:"5",stroke:"white",d:"M371.7 238l-176-107c-15.8-8.8-35.7 2.5-35.7 21v208c0 18.4 19.8 29.8 35.7 21l176-101c16.4-9.1 16.4-32.8 0-42zM504 256C504 119 393 8 256 8S8 119 8 256s111 248 248 248 248-111 248-248zm-448 0c0-110.5 89.5-200 200-200s200 89.5 200 200-89.5 200-200 200S56 366.5 56 256z"})})}function O(){return{progenitorIds:new Map,foldedIds:new Map,id2status:new Map,child2parentid:new Map,parent2childid:new Map,id2numDescendants:new Map,origIdToBoostId:new Map}}async function w(t,e){let n=O(),i=s.Am.loading("Loading toots and threads…"),o=n.origIdToBoostId.size,r=n.progenitorIds.size,a=await t.getAccountStatuses(e.id,{limit:5});return await E(n,a.data,t,e.id),I(i,r,o,n),n}async function C(t,e){let n=O(),i=s.Am.loading("Loading toots and threads…"),o=n.origIdToBoostId.size,r=n.progenitorIds.size,a=await t.getAccountStatuses(e.id,{min_id:"0",limit:5});return await E(n,a.data,t,e.id),I(i,r,o,n),n}async function x(t,e,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,r=s.Am.loading("Loading toots and threads…"),a=n.origIdToBoostId.size,u=n.progenitorIds.size;for(;n.progenitorIds.size<u+i&&o>0;){let c=await t.getAccountStatuses(e.id,{min_id:n.maxContiguousId,limit:5});if(o--,0===c.data.length)break;await E(n,c.data,t,e.id)}return I(r,u,a,n),{...n}}async function k(t,e,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,r=s.Am.loading("Loading toots and threads…"),a=n.origIdToBoostId.size,u=n.progenitorIds.size;for(;n.progenitorIds.size<u+i&&o>0;){o--;let c=await t.getAccountStatuses(e.id,{max_id:n.minContiguousId,limit:5});if(0===c.data.length)break;await E(n,c.data,t,e.id)}return I(r,u,a,n),{...n}}function I(t,e,n,i){let o=i.progenitorIds.size-e,r=i.origIdToBoostId.size-n;s.Am.update(t,{type:"success",isLoading:!1,autoClose:1e3,render:"Loaded ".concat(o," thread").concat(1===o?"":"s",", ").concat(r," boost").concat(1===r?"":"s")})}function A(t){let{account:e,megalodon:n}=t,[o,r]=(0,c.useState)(()=>O()),[s,a]=(0,c.useState)(!1);(0,c.useEffect)(()=>{!async function(){let t=await w(n,e);r(t)}()},[n,e]),(0,c.useEffect)(()=>{window.trees=o},[o]);let u=(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{children:(0,i.jsxs)("label",{htmlFor:"hide-boost-check",children:["Hide boosts?",(0,i.jsx)("input",{type:"checkbox",id:"hide-boost-check",checked:s,onChange(){a(t=>!t)}})]})})});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:p()["button-bar"],children:[(0,i.jsx)("button",{async onClick(){r(await w(n,e))},children:"Newest"}),(0,i.jsx)("button",{async onClick(){r(await x(n,e,o,1))},children:"Newer"}),u]}),Array.from(o.progenitorIds).sort((t,e)=>e[1].localeCompare(t[1])).filter(t=>{let[e]=t,n=P(o.id2status,e).reblog;return!n||(!s||!n)&&(!o.id2status.has(n.id)||!0===o.foldedIds.get(n.id))}).map(t=>{let[n]=t;return(0,i.jsx)(b,{trees:o,progenitorId:n,authorId:e.id,depth:1,sectionNumbers:[1]},n+"/0")}),(0,i.jsxs)("div",{className:p()["button-bar"],children:[(0,i.jsx)("button",{async onClick(){r(await k(n,e,o,1))},children:"Older"}),(0,i.jsx)("button",{async onClick(){r(await C(n,e))},children:"Oldest"}),u," "]})]})}function T(t){if(0===t.length)return[void 0,void 0];let e=t.values(),n=e.next().value,i=n;for(let o of e)n=0>o.localeCompare(n)?o:n,i=o.localeCompare(i)>0?o:i;return[n,i]}async function E(t,e,n,i){window.findDescendants=function t(e,n){let i=Array.from(e.parent2childid.get(n)||[]);return[n].concat(i.flatMap(n=>t(e,n)))};{let o=e.map(t=>t.id);void 0!==t.maxContiguousId&&o.concat(t.maxContiguousId),void 0!==t.minContiguousId&&o.concat(t.minContiguousId);let[r,s]=T(o);t.maxContiguousId=s,t.minContiguousId=r}for(let a of e){var u,c,d;let l;if(t.id2status.has(a.id))continue;if(a.in_reply_to_id){let f=await n.getStatusContext(a.id,{max_id:a.id});(l=f.data.ancestors[0])||(l=a)}else l=a;t.progenitorIds.set(l.id,"");let p=(await n.getStatusContext(l.id)).data,h=p.descendants;for(let v of(t.id2status.set(l.id,l),(null===(u=l.reblog)||void 0===u?void 0:u.id)&&t.origIdToBoostId.set(l.reblog.id,l.id),h)){t.id2status.set(v.id,v),(null===(c=v.reblog)||void 0===c?void 0:c.id)&&t.origIdToBoostId.set(v.reblog.id,v.id);let m=v.in_reply_to_id;if(!m)continue;let g=t.parent2childid.get(m)||new Set;g.add(v.id),t.parent2childid.set(m,g),null===(d=t.parent2childid.get(v.id))||void 0===d||d.has(v.id),t.child2parentid.set(v.id,m)}!function t(e,n,i){var o,r;let s=n.parent2childid.get(e);if(!s){let a=(null===(r=n.id2status.get(e))||void 0===r?void 0:r.account.id)===i;return n.id2numDescendants.set(e,{all:0,shown:0}),n.foldedIds.set(e,!a),n.progenitorIds.has(e)&&n.progenitorIds.set(e,e),{all:0,shown:0,authorFound:a,maxUnfoldedId:e}}let u=Array.from(s,e=>t(e,n,i)),c=S(u.map(t=>t.all)),d=S(u.map(t=>t.shown)),l=u.some(t=>t.authorFound)||(null===(o=n.id2status.get(e))||void 0===o?void 0:o.account.id)===i,f=s.size+c,p=S(Array.from(s,t=>+!n.foldedIds.get(t)))+d,h=u.filter(t=>t.authorFound).map(t=>t.maxUnfoldedId);l&&h.push(e);let v=T(h)[1]||"";return n.id2numDescendants.set(e,{all:f,shown:p}),n.foldedIds.set(e,!l),n.progenitorIds.has(e)&&n.progenitorIds.set(e,v),{all:f,shown:p,authorFound:l,maxUnfoldedId:v}}(l.id,t,i)}}function S(t){return 0===t.length?0:t.reduce((t,e)=>t+e,0)}function P(t,e){let n=t.get(e);if(void 0===n)throw Error("safeGet was unsafe");return n}var N=n(1163);let R="yoyogi-registration";function F(t){let{initialUrl:e,loggedIn:n,submit:o,switchServer:r}=t,[s,a]=(0,c.useState)(e),[u,d]=(0,c.useState)([]);return(0,c.useEffect)(()=>{s||d(H())},[s]),(0,c.useEffect)(()=>{a(e)},[e]),(0,i.jsx)("div",{className:p()["login-box"],children:n?(0,i.jsxs)(i.Fragment,{children:["Logged into ",s,"."," ",(0,i.jsx)("button",{onClick(){r(),a("")},children:"Log out"})," "]}):(0,i.jsxs)(i.Fragment,{children:[u.length?(0,i.jsxs)("label",{htmlFor:"server-select",children:["Log in again?"," ",(0,i.jsxs)("select",{id:"server-select",onChange(t){a(t.target.value),o(t.target.value)},children:[(0,i.jsxs)("option",{value:"",children:["--Pick one of ",u.length," saved servers--"]},""),u.map(t=>(0,i.jsx)("option",{value:t,children:t},t))]})]}):"",(0,i.jsx)("form",{style:{display:"inline"},onSubmit(t){o(s),t.preventDefault()},children:(0,i.jsxs)("label",{htmlFor:"url-input",children:["Enter new Mastodon URL?",(0,i.jsx)("input",{id:"url-input",type:"url",placeholder:"https://octodon.social",onChange:t=>a(t.target.value),value:s})]})})," ",(0,i.jsx)("button",{onClick:()=>o(s),children:"Submit"})," ",(0,i.jsx)("button",{onClick(){r(),a(""),localStorage.clear(),d(H())},children:"Clear local data"})]})})}function L(t){let e=t.match(/\/+$/);return e&&e.index&&(t=t.slice(0,e.index)),t}let D=()=>L(window.location.origin+window.location.pathname);async function U(t,e){let n=await e.registerApp("Yoyogi",{scopes:["read","push"],website:"https://fasiha.github.io/yoyogi",redirect_uris:D()});return{url:t,version:1,client_id:n.client_id,client_secret:n.client_secret,authUrl:n.url||""}}async function M(t){let e=u()("mastodon",t),n=function(t){let e=localStorage.getItem("yoyogi-"+t);if(e)try{let n=JSON.parse(e);if(n.token)return n}catch(i){}}(t);if(n)return B(t,n.token);let i=await U(t,e);if(!i.authUrl){console.error("no URL");return}localStorage.setItem(R,JSON.stringify(i)),window.open(i.authUrl,"_self")}async function q(t,e){let n=u()("mastodon",t.url),i=await n.fetchAccessToken(t.client_id,t.client_secret,e,D());return console.log("got token"),function(t,e){let n=H(),i={version:1,urls:n.filter(e=>e!==t).concat(t)};localStorage.setItem(J,JSON.stringify(i)),localStorage.setItem("yoyogi-"+t,JSON.stringify({version:1,serverUrl:t,token:e}))}(t.url,i.access_token),B(t.url,i.access_token)}async function B(t,e){let n=u()("mastodon",t,e);try{let i=await n.verifyAccountCredentials();return{megalodon:n,account:i.data}}catch(o){console.error("Network error:",o);return}}async function z(t,e){let n=[];try{let i=await t.getAccountFollowing(e.id,{get_all:!0});n.push(...i.data)}catch(o){console.error("Network error:",o)}return n}function W(){let[t,e]=(0,c.useState)(void 0),[n,o]=(0,c.useState)(void 0),[r,a]=(0,c.useState)([]),[u,d]=(0,c.useState)(void 0),[f,v]=(0,c.useState)(""),m=(0,N.useRouter)();(0,c.useEffect)(()=>{!async function(){let t=new URL(""+window.location).searchParams.get("code");if(t){let n=localStorage.getItem(R);if(!n){console.error("received a code in URL but no registration"),window.location.search="";return}try{let i=JSON.parse(n),r=await q(i,t);if(r){v(i.url),e(r.megalodon),o(r.account),d(r.account),a(await z(r.megalodon,r.account)),localStorage.removeItem(R),m.push("/",void 0,{shallow:!0});return}console.error("unable to verify")}catch(s){console.error("registration finalization error",s),localStorage.removeItem(R)}}}()},[m]);let g=()=>{e(void 0),o(void 0)};return(0,i.jsxs)("main",{className:p()["griddy-main"],children:[(0,i.jsxs)("h1",{children:["Yoyogi"," ",(0,i.jsx)("sup",{children:(0,i.jsx)(l(),{href:"/about",as:"/yoyogi/about",children:"About"})})]}),(0,i.jsx)(F,{loggedIn:!!n&&!!t,initialUrl:f,switchServer:g,async submit(t){let n=s.Am.loading("Logging in…");t=L(t);let i=await M(t);i&&(e(i.megalodon),o(i.account),d(i.account),s.Am.update(n,{render:"Loading follows…"}),a(await z(i.megalodon,i.account)),s.Am.update(n,{type:"success",isLoading:!1,autoClose:1e3,render:"Logged in!"}))}}),n&&t&&u&&(0,i.jsxs)("div",{className:p()["follows-and-threads"],children:[(0,i.jsx)(h,{myAccount:n,follows:r,authorId:u.id,setAuthor:d}),(0,i.jsx)(A,{account:u,megalodon:t})]})]})}let J="yoyogi-urls";function H(){let t=localStorage.getItem(J);if(!t)return[];try{let e=JSON.parse(t);return e.urls}catch(n){return[]}}function G(){return(0,i.jsxs)("div",{children:[(0,i.jsxs)(r(),{children:[(0,i.jsx)("title",{children:"Yoyogi"}),(0,i.jsx)("meta",{name:"description",content:"Yoyogi: a Mastodon reader for folks who hate The Timeline"}),(0,i.jsx)("link",{rel:"icon",href:"data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>\uD83D\uDE82</text></svg>"})]}),(0,i.jsx)(W,{}),(0,i.jsx)(s.Ix,{position:"top-center",autoClose:1e3,hideProgressBar:!0,pauseOnHover:!1,newestOnTop:!0,closeOnClick:!0})]})}n(4213)},5609:function(t){t.exports={"login-box":"components_login-box__6t_Nr","follows-and-threads":"components_follows-and-threads__WnoZU","follows-list":"components_follows-list__bsDS4","selected-author":"components_selected-author__WNjN_","griddy-main":"components_griddy-main__ZzhYi","dangerous-content":"components_dangerous-content__ON0wc",thread:"components_thread__SE7mU",toot:"components_toot__VP_Hr","toot-author":"components_toot-author__R9grP","button-bar":"components_button-bar__McoQs","toot-topbar":"components_toot-topbar__SISfQ","avatar-image":"components_avatar-image__gq0YM","attachments-list":"components_attachments-list__MfK_p","media-container":"components_media-container__np_UV","media-item-video-overlay":"components_media-item-video-overlay__jJPbT"}},4358:function(){},3648:function(){},9133:function(){},4504:function(){},9454:function(){},3545:function(){},9689:function(){}},function(t){t.O(0,[714,996,398,774,888,179],function(){return t(t.s=8312)}),_N_E=t.O()}]);